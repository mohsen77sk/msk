import{Da as En,Ea as Fi,Ga as Oi,I as _n,Ia as nt,J as gn,Ja as An,K as fn,M as vn,N as Dn,O as bn,P as yn,aa as Mn,b as Ba,d as Ha,f as za,g as on,h as zt,l as ln,m as jt,n as Gt,p as $t,q as Kt,r as Wt,s as Pe,t as qt,u as He,w as un,x as j,y as je,z as Vi}from"./chunk-A2VKQJPI.js";import{a as Pn,b as Rn,c as ni,d as Tn,e as Vn,f as Fn,g as On}from"./chunk-JZQDFEXV.js";import{Aa as ti,Ba as ii,F as Nt,Fa as Cn,Ga as wn,H as W,Ha as Sn,I as q,Ja as xn,K as Xa,L as Lt,La as kn,M as Ja,Ma as ai,N as pe,O as Yt,P as he,Q as en,R as U,T as Ie,U as tn,V as Bt,W as Ri,Z as Ti,_ as an,a as Me,aa as nn,d as Ya,da as rn,ea as Ht,g as Vt,h as ja,ha as sn,i as it,j as T,ja as cn,ka as Ut,l as Ga,la as pn,m as $a,ma as te,n as Ka,o as ve,oa as Qt,pa as Zt,q as Wa,qa as ze,r as Ee,s as Ft,sa as Re,ua as Xt,v as qa,va as at,wa as Jt,x as Ua,xa as hn,y as Ot,ya as ei,z as Ae,za as mn}from"./chunk-BIZSH2GR.js";import{a as Be}from"./chunk-5CHDV5RH.js";import{a as In}from"./chunk-YDGRMPKE.js";import{e as Na,f as Rt,g as Tt,h as La}from"./chunk-GM3JVZQD.js";import{b as Oa,e as ke,g as Qa,h as De,j as Za,l as dn}from"./chunk-4CD5WGVI.js";import{$b as ee,A as ie,Aa as wt,Ab as xa,Ac as xe,Bb as Ii,Bc as tt,C as ft,Cc as Ra,Da as D,Db as f,Dc as fe,E as ye,Ea as we,Ha as H,I as vt,Ia as me,Jc as K,Ka as I,Kb as Y,L as fa,Lb as _,Lc as O,Mb as xt,Mc as Ta,Nb as z,Pb as Je,Pc as Va,Qa as Mi,Rb as S,Sb as ka,Tb as ue,Ub as _e,Va as Ze,Vb as d,Vc as ce,W as Ve,Wb as p,X as Dt,Xb as v,Y as bt,Yb as Ma,Zb as Ea,_ as X,_b as ge,a as P,aa as xi,ac as Aa,ba as F,bc as k,c as Si,ca as Fe,cc as u,cd as R,dc as Le,dd as Pt,ea as ae,ec as Ye,ed as Fa,f as C,fb as ya,fc as Ia,g as _t,ga as va,gb as Ca,gc as de,h as ma,ha as o,hc as re,i as ua,ia as yt,ic as se,j as Qe,ja as Ct,jb as l,kc as et,l as gt,lc as kt,m as _a,mb as Ei,mc as oe,nb as Ai,nc as m,ob as wa,oc as y,pb as Sa,pc as x,q as V,qb as St,qc as Pi,ra as J,rb as Xe,rc as Mt,sa as M,sc as Et,ta as E,tc as At,ua as Oe,va as ki,vc as Se,wa as Da,wc as It,xb as w,xc as A,ya as Ce,yb as Ne,z as ga,za as ba,zb as ne,zc as Pa}from"./chunk-6C4T2MC2.js";import{a as ca,b as pa,c as ha}from"./chunk-NWJ5J3BN.js";var Nn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people"]],decls:1,vars:0,template:function(t,i){t&1&&v(0,"router-outlet")},dependencies:[Rt],encapsulation:2,changeDetection:0})}}return n})();var Ln=[10,25,50],rt=class{constructor(a){this.pageIndex=a.page-1,this.pageSize=a.pageSize,this.total=a.total,this.items=a.items}},Yn=new rt({page:0,pageSize:0,total:0,items:[]});var ri="code",si="asc";var be=class{constructor(a){this.id=a.id,this.code=a.code,this.firstName=a.firstName,this.lastName=a.lastName,this.nationalCode=a.nationalCode,this.dateOfBirth=a.dateOfBirth?new Date(a.dateOfBirth):void 0,this.gender=a.gender,this.note=a.note,this.isActive=a.isActive}get fullName(){return this.firstName+" "+this.lastName}};var Te=(()=>{class n{constructor(){this._appConfig=o(In),this._httpClient=o(Oa),this._persons=new _t(Yn)}get persons$(){return this._persons.asObservable()}getPersons(e=1,t=10,i=`${ri} ${si}`){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/all`,{params:{page:e,pageSize:t,sortBy:i}}).pipe(V(r=>new rt(pa(ca({},r),{items:r.items.map(s=>new be(s))}))),X(r=>this._persons.next(r)))}getLookupPersons(){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/lookup`).pipe(V(e=>e))}getPerson(e){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/${e}`).pipe(V(t=>new be(t)))}createPerson(e){return this._httpClient.post(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(V(t=>new be(t)))}updatePerson(e){return this._httpClient.put(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(V(t=>new be(t)),X(t=>{if(this._persons.value){let i=this._persons.value.items.findIndex(r=>r.id===t.id)??0;this._persons.value.items[i]=t,this._persons.next(this._persons.value)}}))}updatePersonStatus(e){return this._httpClient.patch(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(V(t=>new be(t)),X(t=>{if(this._persons.value){let i=this._persons.value.items.findIndex(r=>r.id===t.id)??0;this._persons.value.items[i]=t,this._persons.next(this._persons.value)}}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jr=new ae("MAT_SORT_DEFAULT_OPTIONS"),Bn=(()=>{class n{_defaultOptions;_initializedStream=new ma(1);sortables=new Map;_stateChanges=new C;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new D;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,i=Gr(e.start||this.start,t),r=i.indexOf(this.direction)+1;return r>=i.length&&(r=0),i[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||n)(wa(jr,8))};static \u0275dir=ne({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",O],disabled:[2,"matSortDisabled","disabled",O]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[J]})}return n})();function Gr(n,a){let e=["asc","desc"];return n=="desc"&&e.reverse(),a||e.push(""),e}var Ni=(()=>{class n{changes=new C;static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $r(n){return n||new Ni}var Kr={provide:Ni,deps:[[new yt,new Ct,Ni]],useFactory:$r};var Hn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[Kr],imports:[Nt]})}return n})();function Wr(n,a){if(n&1&&(d(0,"div",0),v(1,"img",2),p()),n&2){let e=u();l(),_("src",e.imageUrl(),Ca)}}function qr(n,a){if(n&1&&(d(0,"div",1)(1,"div",3),m(2),p()()),n&2){let e=u();_("ngClass",e.color),l(2),x(" ",e.label," ")}}var oi=(()=>{class n{constructor(){this.name=H.required(),this.imageUrl=H(),this.size=H("medium"),this._colors=["monochrome","pink","rose","red","orange","yellow","chartreuse","green","teal","cyan","blue","indigo","purple"]}get classList(){return{"size-7":this.size()==="small","text-label-medium":this.size()==="small","size-10":this.size()==="medium","text-title-medium":this.size()==="medium","size-24":this.size()==="big","text-headline-large":this.size()==="big",block:!0}}get label(){return this.name().charAt(0).toUpperCase()}get color(){let e=this.name().split("").reduce((t,i)=>t+i.charCodeAt(0),0);return this._colors[e%this._colors.length]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-avatar"]],hostVars:2,hostBindings:function(t,i){t&2&&Je(i.classList)},inputs:{name:[1,"name"],imageUrl:[1,"imageUrl"],size:[1,"size"]},exportAs:["mskAvatar"],decls:2,vars:1,consts:[[1,"size-full","relative","flex","items-center","justify-center","rounded-full"],[1,"size-full","flex","items-center","justify-center","rounded-full",3,"ngClass"],["alt","avatar",1,"size-full","relative","rounded-full",3,"src"],[1,"font-medium"]],template:function(t,i){t&1&&f(0,Wr,2,1,"div",0)(1,qr,3,2,"div",1),t&2&&S(i.imageUrl()?0:1)},dependencies:[R],encapsulation:2,changeDetection:0})}}return n})();var Ur=n=>[n];function Qr(n,a){if(n&1&&(Ma(0),d(1,"mat-icon",1),m(2),p(),Ea()),n&2){let e=a.$implicit,t=u();l(),_("ngClass",A(3,Ur,t.value()?"text-green-400":"text-red-400"))("matTooltip",t.value()?e("active"):e("inactive")),l(),x(" ",t.value()?"check_circle":"cancel"," ")}}var zn=(()=>{class n{constructor(){this.value=H(!0,{transform:O})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-person-status"]],inputs:{value:[1,"value"]},decls:1,vars:0,consts:[[4,"transloco"],[1,"text-green-400",3,"ngClass","matTooltip"]],template:function(t,i){t&1&&f(0,Qr,3,5,"ng-container",0)},dependencies:[R,q,W,zt,on,De],styles:[`main-person-status{display:flex}
`],encapsulation:2,changeDetection:0})}}return n})();var Xr=()=>["card","new"],Jr=n=>({"mat-mdc-extended-fab-collapses":n}),es=n=>["card","view",n],ts=(n,a)=>a.id;function is(n,a){if(n&1&&(d(0,"div",11)(1,"form",12)(2,"div",13)(3,"mat-icon"),m(4,"search"),p(),v(5,"input",14),p()()()),n&2){let e=a.$implicit,t=u();l(),_("formGroup",t.filterForm),l(4),_("placeholder",e("people.search"))}}function as(n,a){if(n&1&&(d(0,"div",4)(1,"div",15),v(2,"msk-avatar",16),p(),d(3,"div",17)(4,"div",18),m(5),p(),d(6,"div",18)(7,"span"),m(8),p()()(),d(9,"div",19),v(10,"main-person-status",20),p()()),n&2){let e=a.$implicit;_("routerLink",A(5,es,e.id)),l(2),_("name",e.fullName),l(3),y(e.fullName),l(3),x("#",e.code,""),l(2),_("value",e.isActive)}}function ns(n,a){if(n&1&&(d(0,"div",5),m(1),p()),n&2){let e=a.$implicit;l(),x(" ",e("people.empty-list")," ")}}function rs(n,a){n&1&&f(0,ns,2,1,"div",21)}function ss(n,a){if(n&1&&(d(0,"span"),m(1),p()),n&2){let e=a.$implicit;l(),y(e("new"))}}var di=(()=>{class n{constructor(){this._destroyRef=o(wt),this._peopleService=o(Te),this._gridContent=Xe.required(Ie),this._paginator=Xe.required(nt),this._sort=new Bn,this.isLoading=I(!1),this.isFabCollapses=I(!1),this.lastOffsetScroll=0,this.pageSizeOptions=Ln,this.filterForm=new ze({search:new Re(""),isActive:new Re(null)})}ngOnInit(){this.persons$=this._peopleService.persons$}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:ri,start:si,disableClear:!0}),this._sort.sortChange.pipe(ke(this._destroyRef),X(()=>this._paginator().pageIndex=0)).subscribe(),ie(this._sort.sortChange,this._paginator().page).pipe(ke(this._destroyRef),Dt(()=>this.getPersons())).subscribe()),this._gridContent().elementScrolled().pipe(ke(this._destroyRef),V(e=>e.target.scrollTop||0),X(e=>{let t=e>10?this.lastOffsetScroll<e:!1;this.isFabCollapses()!==t&&this.isFabCollapses.set(t),this.lastOffsetScroll=e})).subscribe()}getPersons(e=!1){return this.isLoading.set(!0),this._peopleService.getPersons(e?1:this._paginator().pageIndex+1,this._paginator().pageSize,`${this._sort.active} ${this._sort.direction}`).pipe(ye(t=>Qe),fa(()=>{this.isLoading.set(!1)}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-list"]],viewQuery:function(t,i){t&1&&(et(i._gridContent,Ie,5),et(i._paginator,nt,5)),t&2&&kt(2)},decls:19,vars:21,consts:[[1,"page-layout","grid-scroll"],["class","header",4,"transloco"],[1,"content"],["cdkScrollable","",1,"content-grid"],["matRipple","",1,"content-grid-item","tow-line",3,"routerLink"],[1,"text-secondary","text-title-medium","flex","flex-1","items-center","justify-center","p-8","text-center"],[1,"content-fab-container"],["mat-fab","","extended","",3,"routerLink","ngClass"],[4,"transloco"],[1,"content-paginator",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","disabled"],[1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0"],[1,"header"],[1,"flex","w-full","items-center",3,"formGroup"],[1,"msk-mat-search-bar","w-full"],["formControlName","search","autocomplete","off",3,"placeholder"],[1,"content-grid-item-avatar"],[3,"name"],[1,"content-grid-item-content"],[1,"truncate"],[1,"content-grid-item-end"],[3,"value"],["class","text-secondary text-title-medium flex flex-1 items-center justify-center p-8 text-center",4,"transloco"]],template:function(t,i){if(t&1&&(d(0,"div",0),f(1,is,6,2,"div",1),d(2,"div",2)(3,"div",3),ue(4,as,11,7,"div",4,ts,!1,rs,1,0,"div",5),xe(7,"async"),p(),d(8,"div",6)(9,"button",7)(10,"mat-icon"),m(11,"add"),p(),f(12,ss,2,1,"span",8),p()(),v(13,"mat-paginator",9),xe(14,"async"),xe(15,"async"),xe(16,"async"),p()(),d(17,"div",10),v(18,"router-outlet"),p()),t&2){let r,s,c,h;l(4),_e((r=tt(7,10,i.persons$))==null?null:r.items),l(5),_("routerLink",It(18,Xr))("ngClass",A(19,Jr,i.isFabCollapses()))("@zoomIn",void 0),l(4),_("length",(s=tt(14,12,i.persons$))==null?null:s.total)("pageIndex",(c=tt(15,14,i.persons$))==null?null:c.pageIndex)("pageSize",(h=tt(16,16,i.persons$))==null?null:h.pageSize)("pageSizeOptions",i.pageSizeOptions)("showFirstLastButtons",!0)("disabled",i.isLoading())}},dependencies:[Fa,R,ti,Xt,Ut,Qt,Zt,ii,at,Jt,La,Rt,Ie,q,W,ln,ni,Yt,Lt,U,en,ai,Hn,An,nt,De,oi,zn],encapsulation:2,data:{animation:Be},changeDetection:0})}}return n})();var ds=["mat-calendar-body",""];function cs(n,a){return this._trackRow(a)}var Zn=(n,a)=>a.id;function ps(n,a){if(n&1&&(d(0,"tr",0)(1,"td",3),m(2),p()()),n&2){let e=u();l(),xt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Y("colspan",e.numCols),l(),x(" ",e.label," ")}}function hs(n,a){if(n&1&&(d(0,"td",3),m(1),p()),n&2){let e=u(2);xt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Y("colspan",e._firstRowOffset),l(),x(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function ms(n,a){if(n&1){let e=ee();d(0,"td",6)(1,"button",7),k("click",function(i){let r=M(e).$implicit,s=u(2);return E(s._cellClicked(r,i))})("focus",function(i){let r=M(e).$implicit,s=u(2);return E(s._emitActiveDateChange(r,i))}),d(2,"span",8),m(3),p(),v(4,"span",9),p()()}if(n&2){let e=a.$implicit,t=a.$index,i=u().$index,r=u();xt("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Y("data-mat-row",i)("data-mat-col",t),l(),z("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(i,t))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),_("ngClass",e.cssClasses)("tabindex",r._isActiveCell(i,t)?0:-1),Y("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),l(),z("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),l(),x(" ",e.displayValue," ")}}function us(n,a){if(n&1&&(d(0,"tr",1),f(1,hs,2,6,"td",4),ue(2,ms,5,48,"td",5,Zn),p()),n&2){let e=a.$implicit,t=a.$index,i=u();l(),S(t===0&&i._firstRowOffset?1:-1),l(),_e(e)}}function _s(n,a){if(n&1&&(d(0,"th",2)(1,"span",6),m(2),p(),d(3,"span",3),m(4),p()()),n&2){let e=a.$implicit;l(2),y(e.long),l(2),y(e.narrow)}}var gs=["*"];function fs(n,a){}function vs(n,a){if(n&1){let e=ee();d(0,"mat-month-view",4),At("activeDateChange",function(i){M(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),E(i)}),k("_userSelection",function(i){M(e);let r=u();return E(r._dateSelected(i))})("dragStarted",function(i){M(e);let r=u();return E(r._dragStarted(i))})("dragEnded",function(i){M(e);let r=u();return E(r._dragEnded(i))}),p()}if(n&2){let e=u();Mt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Ds(n,a){if(n&1){let e=ee();d(0,"mat-year-view",5),At("activeDateChange",function(i){M(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),E(i)}),k("monthSelected",function(i){M(e);let r=u();return E(r._monthSelectedInYearView(i))})("selectedChange",function(i){M(e);let r=u();return E(r._goToDateInView(i,"month"))}),p()}if(n&2){let e=u();Mt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function bs(n,a){if(n&1){let e=ee();d(0,"mat-multi-year-view",6),At("activeDateChange",function(i){M(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),E(i)}),k("yearSelected",function(i){M(e);let r=u();return E(r._yearSelectedInMultiYearView(i))})("selectedChange",function(i){M(e);let r=u();return E(r._goToDateInView(i,"year"))}),p()}if(n&2){let e=u();Mt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function ys(n,a){}var Cs=["button"],ws=[[["","matDatepickerToggleIcon",""]]],Ss=["[matDatepickerToggleIcon]"];function xs(n,a){n&1&&(Oe(),d(0,"svg",2),v(1,"path",3),p())}var qe=(()=>{class n{changes=new C;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ks=0,dt=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=ks++;constructor(a,e,t,i,r={},s=a,c){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=r,this.compareValue=s,this.rawValue=c}},Ms={passive:!1,capture:!0},ci={passive:!0,capture:!0},Gn={passive:!0},We=(()=>{class n{_elementRef=o(me);_ngZone=o(we);_platform=o(Ya);_intl=o(qe);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new D;previewChange=new D;activeDateChange=new D;dragStarted=new D;dragEnded=new D;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=o(Ce);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=o(Ai),t=o(Ot);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),o(Ee).load(Ja),this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement,r=[T(e,i,"touchmove",this._touchmoveHandler,Ms),T(e,i,"mouseenter",this._enterHandler,ci),T(e,i,"focus",this._enterHandler,ci),T(e,i,"mouseleave",this._leaveHandler,ci),T(e,i,"blur",this._leaveHandler,ci),T(e,i,"mousedown",this._mousedownHandler,Gn),T(e,i,"touchstart",this._mousedownHandler,Gn)];this._platform.isBrowser&&r.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:r}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?r-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/r}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/r}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){Ze(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Bi(e,this.startValue,this.endValue)}_isRangeEnd(e){return Hi(e,this.startValue,this.endValue)}_isInRange(e){return zi(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Bi(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[t][i-1];if(!r){let s=this.rows[t-1];r=s&&s[s.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[t][i+1];if(!r){let s=this.rows[t+1];r=s&&s[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return Hi(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return zi(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Bi(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Hi(e,this.previewStart,this.previewEnd)}_isInPreview(e){return zi(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=$n(e),i=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),Yi(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=Yi(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let i=this._getCellFromElement(t);this.dragEnded.emit({value:i?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=$n(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=Yi(e);if(t){let i=t.getAttribute("data-mat-row"),r=t.getAttribute("data-mat-col");if(i&&r)return this.rows[parseInt(i)][parseInt(r)]}return null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[J],attrs:ds,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(f(0,ps,3,6,"tr",0),ue(1,us,4,1,"tr",1,cs,!0),d(3,"span",2),m(4),p(),d(5,"span",2),m(6),p(),d(7,"span",2),m(8),p(),d(9,"span",2),m(10),p()),t&2&&(S(i._firstRowOffset<i.labelMinRequiredCells?0:-1),l(),_e(i.rows),l(2),_("id",i._startDateLabelId),l(),x(" ",i.startDateAccessibleName,`
`),l(),_("id",i._endDateLabelId),l(),x(" ",i.endDateAccessibleName,`
`),l(),_("id",i._comparisonStartDateLabelId),l(),Pi(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,`
`),l(),_("id",i._comparisonEndDateLabelId),l(),Pi(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,`
`))},dependencies:[R],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return n})();function Li(n){return n?.nodeName==="TD"}function Yi(n){let a;return Li(n)?a=n:Li(n.parentNode)?a=n.parentNode:Li(n.parentNode?.parentNode)&&(a=n.parentNode.parentNode),a?.getAttribute("data-mat-row")!=null?a:null}function Bi(n,a,e){return e!==null&&a!==e&&n<e&&n===a}function Hi(n,a,e){return a!==null&&a!==e&&n>=a&&n===e}function zi(n,a,e,t){return t&&a!==null&&e!==null&&a!==e&&n>=a&&n<=e}function $n(n){let a=n.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}var Q=class{start;end;_disableStructuralEquivalency;constructor(a,e){this.start=a,this.end=e}},ct=(()=>{class n{selection;_adapter;_selectionChanged=new C;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){Sa()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Es=(()=>{class n extends ct{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||n)(va(j))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function As(n,a){return n||new Es(a)}var Xn={provide:ct,deps:[[new yt,new Ct,ct],j],useFactory:As};var Jn=new ae("MAT_DATE_RANGE_SELECTION_STRATEGY");var ji=7,Is=0,Kn=(()=>{class n{_changeDetectorRef=o(K);_dateFormats=o(je,{optional:!0});_dateAdapter=o(j,{optional:!0});_dir=o(Me,{optional:!0});_rangeStrategy=o(Jn,{optional:!0});_rerenderSubscription=P.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Q?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new D;_userSelection=new D;dragStarted=new D;dragEnded=new D;activeDateChange=new D;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){o(Ee).load(Ft),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),r,s;this._selected instanceof Q?(r=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):r=s=this._getDateInCurrentMonth(this._selected),(r!==t||s!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Ae(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(ji+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%ji,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,r=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&i){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),r=this._dateAdapter.getDayOfWeekNames("long").map((s,c)=>({long:s,narrow:t[c],id:Is++}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,r=this._firstWeekOffset;i<e;i++,r++){r==ji&&(this._weeks.push([]),r=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),c=this._shouldEnableDate(s),h=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new dt(i+1,t[i],h,c,g,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(t,i,r).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Q?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&de(We,5),t&2){let r;re(r=se())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[J],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),ue(3,_s,5,2,"th",2,Zn),p(),d(5,"tr",3),v(6,"th",4),p()(),d(7,"tbody",5),k("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),p()()),t&2&&(l(3),_e(i._weekdays),l(4),_("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[We],encapsulation:2,changeDetection:0})}return n})(),G=24,Gi=4,Wn=(()=>{class n{_changeDetectorRef=o(K);_dateAdapter=o(j,{optional:!0});_dir=o(Me,{optional:!0});_rerenderSubscription=P.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),er(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Q?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new D;yearSelected=new D;activeDateChange=new D;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,r=[];i<G;i++)r.push(t+i),r.length==Gi&&(this._years.push(r.map(s=>this._createCellForYear(s))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),r=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gi);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Gi);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,G-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-G*10:-G);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?G*10:G);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),r=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new dt(e,i,i,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Q){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&de(We,5),t&2){let r;re(r=se())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),v(3,"th",2),p()(),d(4,"tbody",3),k("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),p()()),t&2&&(l(4),_("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[We],encapsulation:2,changeDetection:0})}return n})();function er(n,a,e,t,i){let r=n.getYear(a),s=n.getYear(e),c=tr(n,t,i);return Math.floor((r-c)/G)===Math.floor((s-c)/G)}function ot(n,a,e,t){let i=n.getYear(a);return Ps(i-tr(n,e,t),G)}function tr(n,a,e){let t=0;return e?t=n.getYear(e)-G+1:a&&(t=n.getYear(a)),t}function Ps(n,a){return(n%a+a)%a}var qn=(()=>{class n{_changeDetectorRef=o(K);_dateFormats=o(je,{optional:!0});_dateAdapter=o(j,{optional:!0});_dir=o(Me,{optional:!0});_rerenderSubscription=P.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Q?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new D;monthSelected=new D;activeDateChange=new D;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let r=this._getDateFromMonth(t);this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(i,"year"):void 0;return new dt(e,t.toLocaleUpperCase(),r,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let r=i;this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>r}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<r}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Q?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&de(We,5),t&2){let r;re(r=se())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(d(0,"table",0)(1,"thead",1)(2,"tr"),v(3,"th",2),p()(),d(4,"tbody",3),k("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),p()()),t&2&&(l(4),_("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[We],encapsulation:2,changeDetection:0})}return n})(),ir=(()=>{class n{_intl=o(qe);calendar=o($i);_dateAdapter=o(j,{optional:!0});_dateFormats=o(je,{optional:!0});constructor(){o(Ee).load(Ft);let e=o(K);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-G)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:G)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):er(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-ot(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+G-1,r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[r,s]}_periodButtonLabelId=o(Ot).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:gs,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(Le(),d(0,"div",0)(1,"div",1)(2,"span",2),m(3),p(),d(4,"button",3),k("click",function(){return i.currentPeriodClicked()}),d(5,"span",4),m(6),p(),Oe(),d(7,"svg",5),v(8,"polygon",6),p()(),ki(),v(9,"div",7),Ye(10),d(11,"button",8),k("click",function(){return i.previousClicked()}),Oe(),d(12,"svg",9),v(13,"path",10),p()(),ki(),d(14,"button",11),k("click",function(){return i.nextClicked()}),Oe(),d(15,"svg",9),v(16,"path",12),p()()()()),t&2&&(l(2),_("id",i._periodButtonLabelId),l(),y(i.periodButtonDescription),l(),Y("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),l(2),y(i.periodButtonText),l(),z("mat-calendar-invert",i.calendar.currentView!=="month"),l(4),_("disabled",!i.previousEnabled()),Y("aria-label",i.prevButtonLabel),l(3),_("disabled",!i.nextEnabled()),Y("aria-label",i.nextButtonLabel))},dependencies:[he,pe],encapsulation:2,changeDetection:0})}return n})(),$i=(()=>{class n{_dateAdapter=o(j,{optional:!0});_dateFormats=o(je,{optional:!0});_changeDetectorRef=o(K);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Q?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new D;yearSelected=new D;monthSelected=new D;viewChanged=new D(!0);_userSelection=new D;_userDragDrop=new D;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}_currentView;_activeDrag=null;stateChanges=new C;constructor(){this._intlChanges=o(qe).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ri(this.headerComponent||ir),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=t||i||e.dateFilter;if(r&&!r.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof Q||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(de(Kn,5),de(qn,5),de(Wn,5)),t&2){let r;re(r=se())&&(i.monthView=r.first),re(r=se())&&(i.yearView=r.first),re(r=se())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Se([Xn]),J],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(f(0,fs,0,0,"ng-template",0),d(1,"div",1),f(2,vs,1,11,"mat-month-view",2)(3,Ds,1,6,"mat-year-view",3)(4,bs,1,6,"mat-multi-year-view",3),p()),t&2){let r;_("cdkPortalOutlet",i._calendarHeaderPortal),l(2),S((r=i.currentView)==="month"?2:r==="year"?3:r==="multi-year"?4:-1)}},dependencies:[Ti,Wa,Kn,qn,Wn],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),ar=new ae("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=o(Ht);return()=>n.scrollStrategies.reposition()}});function Rs(n){return()=>n.scrollStrategies.reposition()}var Ts={provide:ar,deps:[Ht],useFactory:Rs},nr=(()=>{class n{_elementRef=o(me);_animationsDisabled=o(Mi,{optional:!0})==="NoopAnimations";_changeDetectorRef=o(K);_globalModel=o(ct);_dateAdapter=o(j);_ngZone=o(we);_rangeSelectionStrategy=o(Jn,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new C;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(o(Ee).load(Ft),this._closeButtonText=o(qe).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=o(Ai);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,r=t instanceof Q;if(r&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(s,this)}else i&&(r||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&de($i,5),t&2){let r;re(r=se())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,i){t&2&&(Je(i.color?"mat-"+i.color:""),z("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"mat-calendar",1),k("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),p(),f(2,ys,0,0,"ng-template",2),d(3,"button",3),k("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),m(4),p()()),t&2){let r;z("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),Y("aria-modal",!0)("aria-labelledby",(r=i._dialogLabelId)!==null&&r!==void 0?r:void 0),l(),Je(i.datepicker.panelClass),_("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),l(),_("cdkPortalOutlet",i._actionsPortal),l(),z("cdk-visually-hidden",!i._closeButtonFocused),_("color",i.color||"primary"),l(),y(i._closeButtonText)}},dependencies:[qa,$i,Ti,he],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return n})(),Un=(()=>{class n{_overlay=o(Ht);_viewContainerRef=o(St);_dateAdapter=o(j,{optional:!0});_dir=o(Me,{optional:!0});_model=o(ct);_scrollStrategy=o(ar);_inputStateChanges=P.EMPTY;_document=o(ce);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new D;monthSelected=new D;viewChanged=new D(!0);dateClass;openedStream=new D;closedStream=new D;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Xa(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=o(Ot).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new C;_injector=o(Ce);_changeDetectorRef=o(K);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof rn&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ja(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:r}=this._componentRef;i._animationDone.pipe(vt(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||r.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new Ri(nr,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new nn({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(i).subscribe(r=>{r&&r.preventDefault(),this.close()}),i.keydownEvents().subscribe(r=>{let s=r.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&r.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||Ze(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",r=this.yPosition==="above"?"bottom":"top",s=r==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:s,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:r},{originX:i,originY:r,overlayX:i,overlayY:s}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return ie(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ft(i=>i.keyCode===27&&!Ae(i)||this.datepickerInput&&Ae(i,"altKey")&&i.keyCode===38&&t.every(r=>!Ae(i,r)))))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",O],disabled:[2,"disabled","disabled",O],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",O],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",O]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[J]})}return n})(),rr=(()=>{class n extends Un{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Da(n)))(i||n)}})();static \u0275cmp=w({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Se([Xn,{provide:Un,useExisting:n}]),Ii],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}return n})(),Ge=class{target;targetElement;value;constructor(a,e){this.target=a,this.targetElement=e,this.value=this.target.value}},Vs=(()=>{class n{_elementRef=o(me);_dateAdapter=o(j,{optional:!0});_dateFormats=o(je,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new D;dateInput=new D;stateChanges=new C;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=P.EMPTY;_localeSubscription=P.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new Ge(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ge(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Fs(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Ae(e,"altKey")&&e.keyCode===40&&t.every(r=>!Ae(e,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);let r=!this._dateAdapter.sameDate(i,this.value);!i||r?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(i),this.dateInput.emit(new Ge(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ge(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",O]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[J]})}return n})();function Fs(n,a){let e=Object.keys(n);for(let t of e){let{previousValue:i,currentValue:r}=n[t];if(a.isDateInstance(i)&&a.isDateInstance(r)){if(!a.sameDate(i,r))return!0}else return!0}return!1}var Os={provide:cn,useExisting:xi(()=>_i),multi:!0},Ns={provide:pn,useExisting:xi(()=>_i),multi:!0},_i=(()=>{class n extends Vs{_formField=o(xn,{optional:!0});_closedSubscription=P.EMPTY;_openedSubscription=P.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=I(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=te.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&k("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),t&2&&(Aa("disabled",i.disabled),Y("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Se([Os,Ns,{provide:Pn,useExisting:n}]),Ii]})}return n})(),Ls=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),qi=(()=>{class n{_intl=o(qe);_changeDetectorRef=o(K);_stateChanges=P.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=o(new ba("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:gt(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:gt(),i=this.datepicker?ie(this.datepicker.openedStream,this.datepicker.closedStream):gt();this._stateChanges.unsubscribe(),this._stateChanges=ie(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(t&1&&Ia(r,Ls,5),t&2){let s;re(s=se())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(t&1&&de(Cs,5),t&2){let r;re(r=se())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&k("click",function(s){return i._open(s)}),t&2&&(Y("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),z("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",O],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[J],ngContentSelectors:Ss,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(Le(ws),d(0,"button",1,0),f(2,xs,2,0,":svg:svg",2),Ye(3),p()),t&2&&(_("disabled",i.disabled)("disableRipple",i.disableRipple),Y("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex)("aria-expanded",i.datepicker?i.datepicker.opened:null),l(2),S(i._customIcon?-1:2))},dependencies:[pe],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return n})();var sr=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[qe,Ts],imports:[U,sn,Ua,an,Nt,nr,qi,ir,Bt]})}return n})();function br(n){let a=n.cloneNode(!0),e=a.querySelectorAll("[id]"),t=n.nodeName.toLowerCase();a.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return t==="canvas"?dr(n,a):(t==="input"||t==="select"||t==="textarea")&&lr(n,a),or("canvas",n,a,dr),or("input, textarea, select",n,a,lr),a}function or(n,a,e,t){let i=a.querySelectorAll(n);if(i.length){let r=e.querySelectorAll(n);for(let s=0;s<i.length;s++)t(i[s],r[s])}}var Bs=0;function lr(n,a){a.type!=="file"&&(a.value=n.value),a.type==="radio"&&a.name&&(a.name=`mat-clone-${a.name}-${Bs++}`)}function dr(n,a){let e=a.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function aa(n){let a=n.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}}function Zi(n,a,e){let{top:t,bottom:i,left:r,right:s}=n;return e>=t&&e<=i&&a>=r&&a<=s}function ut(n,a,e){n.top+=a,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function cr(n,a,e,t){let{top:i,right:r,bottom:s,left:c,width:h,height:g}=n,b=h*a,B=g*a;return t>i-B&&t<s+B&&e>c-b&&e<r+b}var gi=class{_document;positions=new Map;constructor(a){this._document=a}clear(){this.positions.clear()}cache(a){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),a.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:aa(e)})})}handleScroll(a){let e=it(a),t=this.positions.get(e);if(!t)return null;let i=t.scrollPosition,r,s;if(e===this._document){let g=this.getViewportScrollPosition();r=g.top,s=g.left}else r=e.scrollTop,s=e.scrollLeft;let c=i.top-r,h=i.left-s;return this.positions.forEach((g,b)=>{g.clientRect&&e!==b&&e.contains(b)&&ut(g.clientRect,c,h)}),i.top=r,i.left=s,{top:c,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function yr(n,a){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===a.ELEMENT_NODE)return e[0];let t=a.createElement("div");return e.forEach(i=>t.appendChild(i)),t}function na(n,a,e){for(let t in a)if(a.hasOwnProperty(t)){let i=a[t];i?n.setProperty(t,i,e?.has(t)?"important":""):n.removeProperty(t)}return n}function Ue(n,a){let e=a?"":"none";na(n.style,{"touch-action":a?"":"none","-webkit-user-drag":a?"":"none","-webkit-tap-highlight-color":a?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function pr(n,a,e){na(n.style,{position:a?"":"fixed",top:a?"":"0",opacity:a?"":"0",left:a?"":"-999em"},e)}function fi(n,a){return a&&a!="none"?n+" "+a:n}function hr(n,a){n.style.width=`${a.width}px`,n.style.height=`${a.height}px`,n.style.transform=vi(a.left,a.top)}function vi(n,a){return`translate3d(${Math.round(n)}px, ${Math.round(a)}px, 0)`}function mr(n){let a=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*a}function Hs(n){let a=getComputedStyle(n),e=Ui(a,"transition-property"),t=e.find(c=>c==="transform"||c==="all");if(!t)return 0;let i=e.indexOf(t),r=Ui(a,"transition-duration"),s=Ui(a,"transition-delay");return mr(r[i])+mr(s[i])}function Ui(n,a){return n.getPropertyValue(a).split(",").map(t=>t.trim())}var zs=new Set(["position"]),Xi=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(a,e,t,i,r,s,c,h,g,b){this._document=a,this._rootElement=e,this._direction=t,this._initialDomRect=i,this._previewTemplate=r,this._previewClass=s,this._pickupPositionOnPage=c,this._initialTransform=h,this._zIndex=g,this._renderer=b}attach(a){this._preview=this._createPreview(),a.appendChild(this._preview),ur(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(a){this._preview.style.transform=a}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(a){this._preview.classList.add(a)}getTransitionDuration(){return Hs(this._preview)}addEventListener(a,e){return this._renderer.listen(this._preview,a,e)}_createPreview(){let a=this._previewTemplate,e=this._previewClass,t=a?a.template:null,i;if(t&&a){let r=a.matchSize?this._initialDomRect:null,s=a.viewContainer.createEmbeddedView(t,a.context);s.detectChanges(),i=yr(s,this._document),this._previewEmbeddedView=s,a.matchSize?hr(i,r):i.style.transform=vi(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=br(this._rootElement),hr(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return na(i.style,{"pointer-events":"none",margin:ur(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},zs),Ue(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>i.classList.add(r)):i.classList.add(e)),i}};function ur(n){return"showPopover"in n}var js={passive:!0},_r={passive:!1},Gs={passive:!1,capture:!0},$s=800,gr=new Set(["position"]),Ji=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=I(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new C;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=P.EMPTY;_pointerUpSubscription=P.EMPTY;_scrollSubscription=P.EMPTY;_resizeSubscription=P.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(a){a!==this._disabled&&(this._disabled=a,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ue(e,a)))}_disabled=!1;beforeStarted=new C;started=new C;released=new C;ended=new C;entered=new C;exited=new C;dropped=new C;moved=this._moveEvents;data;constrainPosition;constructor(a,e,t,i,r,s,c){this._config=e,this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._renderer=c,this.withRootElement(a).withParent(e.parentDragRef||null),this._parentPositions=new gi(t),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(a){this._handles=a.map(t=>ve(t)),this._handles.forEach(t=>Ue(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(a){return this._previewTemplate=a,this}withPlaceholderTemplate(a){return this._placeholderTemplate=a,this}withRootElement(a){let e=ve(a);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[T(this._renderer,e,"mousedown",this._pointerDown,_r),T(this._renderer,e,"touchstart",this._pointerDown,js),T(this._renderer,e,"dragstart",this._nativeDragStart,_r)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(a){return this._boundaryElement=a?ve(a):null,this._resizeSubscription.unsubscribe(),a&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(a){return this._parentDragRef=a,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(a){!this._disabledHandles.has(a)&&this._handles.indexOf(a)>-1&&(this._disabledHandles.add(a),Ue(a,!0))}enableHandle(a){this._disabledHandles.has(a)&&(this._disabledHandles.delete(a),Ue(a,this.disabled))}withDirection(a){return this._direction=a,this}_withDropContainer(a){this._dropContainer=a}getFreeDragPosition(){let a=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:a.x,y:a.y}}setFreeDragPosition(a){return this._activeTransform={x:0,y:0},this._passiveTransform.x=a.x,this._passiveTransform.y=a.y,this._dropContainer||this._applyRootElementTransform(a.x,a.y),this}withPreviewContainer(a){return this._previewContainer=a,this}_sortFromLastPointerPosition(){let a=this._lastKnownPointerPosition;a&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(a),a)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)};_pointerMove=a=>{let e=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let i=Math.abs(e.x-this._pickupPositionOnPage.x),r=Math.abs(e.y-this._pickupPositionOnPage.y);if(i+r>=this._config.dragStartThreshold){let c=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),h=this._dropContainer;if(!c){this._endDragSequence(a);return}(!h||!h.isDragging()&&!h.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=t.x-i.x+this._passiveTransform.x,r.y=t.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:a,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=a=>{this._endDragSequence(a)};_endDragSequence(a){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:a}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(a),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(a);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:a})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(a){ht(a)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=T(this._renderer,e,"selectstart",Ks,Gs)}),t){let i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(c,i),this._initialTransform=i.style.transform||"",this._preview=new Xi(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,e)),pr(i,!1,gr),this._document.body.appendChild(r.replaceChild(s,i)),this.started.next({source:this,event:a}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:a}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(a,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),i=ht(e),r=!i&&e.button!==0,s=this._rootElement,c=it(e),h=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+$s>Date.now(),g=i?$a(e):Ga(e);if(c&&c.draggable&&e.type==="mousedown"&&e.preventDefault(),t||r||h||g)return;if(this._handles.length){let le=s.style;this._rootElementTapHighlight=le.webkitTapHighlightColor||"",le.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(le=>this._updateOnScroll(le)),this._boundaryElement&&(this._boundaryRect=aa(this._boundaryElement));let b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,a,e);let B=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:B.x,y:B.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(a){pr(this._rootElement,!0,gr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),i=this._getPointerPositionOnPage(a),r=this._getDragDistance(i),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r,dropPoint:i,event:a}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:i,event:a}),e.drop(this,t,this._initialIndex,this._initialContainer,s,r,i,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:a,y:e},{x:t,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,a,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(a,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,a,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,i),this._dropContainer._sortItem(this,a,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(a,e):this._applyPreviewTransform(a-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let a=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(a.left,a.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let i=c=>{(!c||this._preview&&it(c)===this._preview.element&&c.propertyName==="transform")&&(s(),t(),clearTimeout(r))},r=setTimeout(i,e*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let a=this._placeholderTemplate,e=a?a.template:null,t;return e?(this._placeholderRef=a.viewContainer.createEmbeddedView(e,a.context),this._placeholderRef.detectChanges(),t=yr(this._placeholderRef,this._document)):t=br(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(a,e,t){let i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():a,s=ht(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition(),h=s.pageX-r.left-c.left,g=s.pageY-r.top-c.top;return{x:r.left-a.left+h,y:r.top-a.top+g}}_getPointerPositionOnPage(a){let e=this._getViewportScrollPosition(),t=ht(a)?a.touches[0]||a.changedTouches[0]||{pageX:0,pageY:0}:a,i=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=r,c.matrixTransform(s.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(a){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:i}=this.constrainPosition?this.constrainPosition(a,this,this._initialDomRect,this._pickupPositionInElement):a;if(this.lockAxis==="x"||e==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:h,height:g}=this._getPreviewRect(),b=c.top+s,B=c.bottom-(g-s),le=c.left+r,Ci=c.right-(h-r);t=fr(t,le,Ci),i=fr(i,b,B)}return{x:t,y:i}}_updatePointerDirectionDelta(a){let{x:e,y:t}=a,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),c=Math.abs(t-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),c>this._config.pointerDirectionChangeThreshold&&(i.y=t>r.y?1:-1,r.y=t),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let a=this._handles.length>0||!this.isDragging();a!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=a,Ue(this._rootElement,a))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(a=>a()),this._rootElementCleanups=void 0}_applyRootElementTransform(a,e){let t=1/this.scale,i=vi(a*t,e*t),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=fi(i,this._initialTransform)}_applyPreviewTransform(a,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,i=vi(a,e);this._preview.setTransform(fi(i,t))}_getDragDistance(a){let e=this._pickupPositionOnPage;return e?{x:a.x-e.x,y:a.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:a,y:e}=this._passiveTransform;if(a===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||t.width===0&&t.height===0)return;let r=i.left-t.left,s=t.right-i.right,c=i.top-t.top,h=t.bottom-i.bottom;i.width>t.width?(r>0&&(a+=r),s>0&&(a-=s)):a=0,i.height>t.height?(c>0&&(e+=c),h>0&&(e-=h)):e=0,(a!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:a})}_getDragStartDelay(a){let e=this.dragStartDelay;return typeof e=="number"?e:ht(a)?e.touch:e?e.mouse:0}_updateOnScroll(a){let e=this._parentPositions.handleScroll(a);if(e){let t=it(a);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&ut(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Vt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(a,e){let t=this._previewContainer||"global";if(t==="parent")return a;if(t==="global"){let i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ve(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=a=>{if(this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()};_getTargetHandle(a){return this._handles.find(e=>a.target&&(a.target===e||e.contains(a.target)))}};function fr(n,a,e){return Math.max(a,Math.min(e,n))}function ht(n){return n.type[0]==="t"}function Ks(n){n.preventDefault()}function Cr(n,a,e){let t=vr(a,n.length-1),i=vr(e,n.length-1);if(t===i)return;let r=n[t],s=i<t?-1:1;for(let c=t;c!==i;c+=s)n[c]=n[c+s];n[i]=r}function vr(n,a){return Math.max(0,Math.min(a,n))}var Di=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(a){this._dragDropRegistry=a}_previousSwap={drag:null,delta:0,overlaps:!1};start(a){this.withItems(a)}sort(a,e,t,i){let r=this._itemPositions,s=this._getItemIndexFromPointerPosition(a,e,t,i);if(s===-1&&r.length>0)return null;let c=this.orientation==="horizontal",h=r.findIndex($=>$.drag===a),g=r[s],b=r[h].clientRect,B=g.clientRect,le=h>s?1:-1,Ci=this._getItemOffsetPx(b,B,le),Br=this._getSiblingOffsetPx(h,r,le),Hr=r.slice();return Cr(r,h,s),r.forEach(($,zr)=>{if(Hr[zr]===$)return;let oa=$.drag===a,wi=oa?Ci:Br,la=oa?a.getPlaceholderElement():$.drag.getRootElement();$.offset+=wi;let da=Math.round($.offset*(1/$.drag.scale));c?(la.style.transform=fi(`translate3d(${da}px, 0, 0)`,$.initialTransform),ut($.clientRect,0,wi)):(la.style.transform=fi(`translate3d(0, ${da}px, 0)`,$.initialTransform),ut($.clientRect,wi,0))}),this._previousSwap.overlaps=Zi(B,e,t),this._previousSwap.drag=g.drag,this._previousSwap.delta=c?i.x:i.y,{previousIndex:h,currentIndex:s}}enter(a,e,t,i){let r=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i,s=this._activeDraggables,c=s.indexOf(a),h=a.getPlaceholderElement(),g=s[r];if(g===a&&(g=s[r+1]),!g&&(r==null||r===-1||r<s.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(g=s[0]),c>-1&&s.splice(c,1),g&&!this._dragDropRegistry.isDragging(g)){let b=g.getRootElement();b.parentElement.insertBefore(h,b),s.splice(r,0,a)}else this._element.appendChild(h),s.push(a);h.style.transform="",this._cacheItemPositions()}withItems(a){this._activeDraggables=a.slice(),this._cacheItemPositions()}withSortPredicate(a){this._sortPredicate=a}reset(){this._activeDraggables?.forEach(a=>{let e=a.getRootElement();if(e){let t=this._itemPositions.find(i=>i.drag===a)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(a){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===a)}updateOnScroll(a,e){this._itemPositions.forEach(({clientRect:t})=>{ut(t,a,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(a){this._element=a}_cacheItemPositions(){let a=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:aa(t)}}).sort((e,t)=>a?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(a,e,t){let i=this.orientation==="horizontal",r=i?e.left-a.left:e.top-a.top;return t===-1&&(r+=i?e.width-a.width:e.height-a.height),r}_getSiblingOffsetPx(a,e,t){let i=this.orientation==="horizontal",r=e[a].clientRect,s=e[a+t*-1],c=r[i?"width":"height"]*t;if(s){let h=i?"left":"top",g=i?"right":"bottom";t===-1?c-=s.clientRect[h]-r[g]:c+=r[h]-s.clientRect[g]}return c}_shouldEnterAsFirstChild(a,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,i=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let s=t[t.length-1].clientRect;return i?a>=s.right:e>=s.bottom}else{let s=t[0].clientRect;return i?a<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(a,e,t,i){let r=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:c,clientRect:h})=>{if(c===a)return!1;if(i){let g=r?i.x:i.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return r?e>=Math.floor(h.left)&&e<Math.floor(h.right):t>=Math.floor(h.top)&&t<Math.floor(h.bottom)});return s===-1||!this._sortPredicate(s,a)?-1:s}},ea=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(a,e){this._document=a,this._dragDropRegistry=e}start(a){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let i=e[t];this._relatedNodes.push([i,i.nextSibling])}this.withItems(a)}sort(a,e,t,i){let r=this._getItemIndexFromPointerPosition(a,e,t),s=this._previousSwap;if(r===-1||this._activeItems[r]===a)return null;let c=this._activeItems[r];if(s.drag===c&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let h=this.getItemIndex(a),g=a.getPlaceholderElement(),b=c.getRootElement();r>h?b.after(g):b.before(g),Cr(this._activeItems,h,r);let B=this._getRootNode().elementFromPoint(e,t);return s.deltaX=i.x,s.deltaY=i.y,s.drag=c,s.overlaps=b===B||b.contains(B),{previousIndex:h,currentIndex:r}}enter(a,e,t,i){let r=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i;r===-1&&(r=this._getClosestItemIndexToPointer(a,e,t));let s=this._activeItems[r],c=this._activeItems.indexOf(a);c>-1&&this._activeItems.splice(c,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(r,0,a),s.getRootElement().before(a.getPlaceholderElement())):(this._activeItems.push(a),this._element.appendChild(a.getPlaceholderElement()))}withItems(a){this._activeItems=a.slice()}withSortPredicate(a){this._sortPredicate=a}reset(){let a=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[i,r]=this._relatedNodes[t];i.parentNode===a&&i.nextSibling!==r&&(r===null?a.appendChild(i):r.parentNode===a&&a.insertBefore(i,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(a){return this._activeItems.indexOf(a)}updateOnScroll(){this._activeItems.forEach(a=>{this._dragDropRegistry.isDragging(a)&&a._sortFromLastPointerPosition()})}withElementContainer(a){a!==this._element&&(this._element=a,this._rootNode=void 0)}_getItemIndexFromPointerPosition(a,e,t){let i=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),r=i?this._activeItems.findIndex(s=>{let c=s.getRootElement();return i===c||c.contains(i)}):-1;return r===-1||!this._sortPredicate(r,a)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=Vt(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(a,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,r=-1;for(let s=0;s<this._activeItems.length;s++){let c=this._activeItems[s];if(c!==a){let{x:h,y:g}=c.getRootElement().getBoundingClientRect(),b=Math.hypot(e-h,t-g);b<i&&(i=b,r=s)}}return r}},Dr=.05,wr=.05,Z=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(Z||{}),L=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(L||{}),ta=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new C;entered=new C;exited=new C;dropped=new C;sorted=new C;receivingStarted=new C;receivingStopped=new C;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=P.EMPTY;_verticalScrollDirection=Z.NONE;_horizontalScrollDirection=L.NONE;_scrollNode;_stopScrollTimers=new C;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(a,e,t,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r;let s=this.element=ve(a);this._document=t,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new gi(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(a,e,t,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(a)),this._sortStrategy.enter(a,e,t,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:a,container:this,currentIndex:this.getItemIndex(a)})}exit(a){this._reset(),this.exited.next({item:a,container:this})}drop(a,e,t,i,r,s,c,h={}){this._reset(),this.dropped.next({item:a,currentIndex:e,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:r,distance:s,dropPoint:c,event:h})}withItems(a){let e=this._draggables;return this._draggables=a,a.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>a.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(a){return this._direction=a,this._sortStrategy instanceof Di&&(this._sortStrategy.direction=a),this}connectedTo(a){return this._siblings=a.slice(),this}withOrientation(a){if(a==="mixed")this._sortStrategy=new ea(this._document,this._dragDropRegistry);else{let e=new Di(this._dragDropRegistry);e.direction=this._direction,e.orientation=a,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(a){let e=this._container;return this._scrollableElements=a.indexOf(e)===-1?[e,...a]:a.slice(),this}withElementContainer(a){if(a===this._container)return this;let e=ve(this.element),t=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(a);return t>-1&&this._scrollableElements.splice(t,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(a),this._cachedShadowRoot=null,this._scrollableElements.unshift(a),this._container=a,this}getScrollableParents(){return this._scrollableElements}getItemIndex(a){return this._isDragging?this._sortStrategy.getItemIndex(a):this._draggables.indexOf(a)}isReceiving(){return this._activeSiblings.size>0}_sortItem(a,e,t,i){if(this.sortingDisabled||!this._domRect||!cr(this._domRect,Dr,e,t))return;let r=this._sortStrategy.sort(a,e,t,i);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:a})}_startScrollingIfNecessary(a,e){if(this.autoScrollDisabled)return;let t,i=Z.NONE,r=L.NONE;if(this._parentPositions.positions.forEach((s,c)=>{c===this._document||!s.clientRect||t||cr(s.clientRect,Dr,a,e)&&([i,r]=Ws(c,s.clientRect,this._direction,a,e),(i||r)&&(t=c))}),!i&&!r){let{width:s,height:c}=this._viewportRuler.getViewportSize(),h={width:s,height:c,top:0,right:s,bottom:c,left:0};i=Sr(h,e),r=xr(h,a),t=window}t&&(i!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=t,(i||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let a=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=a.msScrollSnapType||a.scrollSnapType||"",a.scrollSnapType=a.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let a=this._container.style;a.scrollSnapType=a.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ga(0,ua).pipe(bt(this._stopScrollTimers)).subscribe(()=>{let a=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Z.UP?a.scrollBy(0,-e):this._verticalScrollDirection===Z.DOWN&&a.scrollBy(0,e),this._horizontalScrollDirection===L.LEFT?a.scrollBy(-e,0):this._horizontalScrollDirection===L.RIGHT&&a.scrollBy(e,0)})};_isOverContainer(a,e){return this._domRect!=null&&Zi(this._domRect,a,e)}_getSiblingContainerFromPosition(a,e,t){return this._siblings.find(i=>i._canReceive(a,e,t))}_canReceive(a,e,t){if(!this._domRect||!Zi(this._domRect,e,t)||!this.enterPredicate(a,this))return!1;let i=this._getShadowRoot().elementFromPoint(e,t);return i?i===this._container||this._container.contains(i):!1}_startReceiving(a,e){let t=this._activeSiblings;!t.has(a)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(t.add(a),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:a,receiver:this,items:e}))}_stopReceiving(a){this._activeSiblings.delete(a),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:a,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(a=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(a);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let a=Vt(this._container);this._cachedShadowRoot=a||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let a=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,a))}};function Sr(n,a){let{top:e,bottom:t,height:i}=n,r=i*wr;return a>=e-r&&a<=e+r?Z.UP:a>=t-r&&a<=t+r?Z.DOWN:Z.NONE}function xr(n,a){let{left:e,right:t,width:i}=n,r=i*wr;return a>=e-r&&a<=e+r?L.LEFT:a>=t-r&&a<=t+r?L.RIGHT:L.NONE}function Ws(n,a,e,t,i){let r=Sr(a,i),s=xr(a,t),c=Z.NONE,h=L.NONE;if(r){let g=n.scrollTop;r===Z.UP?g>0&&(c=Z.UP):n.scrollHeight-g>n.clientHeight&&(c=Z.DOWN)}if(s){let g=n.scrollLeft;e==="rtl"?s===L.RIGHT?g<0&&(h=L.RIGHT):n.scrollWidth+g>n.clientWidth&&(h=L.LEFT):s===L.LEFT?g>0&&(h=L.LEFT):n.scrollWidth-g>n.clientWidth&&(h=L.RIGHT)}return[c,h]}var mt={capture:!0},Qi={passive:!1,capture:!0},qs=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),ra=(()=>{class n{_ngZone=o(we);_document=o(ce);_styleLoader=o(Ee);_renderer=o(Ei).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=I([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new C;pointerUp=new C;scroll=new C;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=T(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Qi)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(qs),this._activeDragInstances.update(i=>[...i,e]),this._activeDragInstances().length===1)){let i=t.type.startsWith("touch"),r=c=>this.pointerUp.next(c),s=[["scroll",c=>this.scroll.next(c),mt],["selectstart",this._preventDefaultWhileDragging,Qi]];i?s.push(["touchend",r,mt],["touchcancel",r,mt]):s.push(["mouseup",r,mt]),i||s.push(["mousemove",c=>this.pointerMove.next(c),Qi]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([c,h,g])=>T(this._renderer,this._document,c,h,g))})}}stopDragging(e){this._activeDragInstances.update(t=>{let i=t.indexOf(e);return i>-1?(t.splice(i,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new Si(i=>this._ngZone.runOutsideAngular(()=>{let r=T(this._renderer,e,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},mt);return()=>{r()}}))),ie(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Us={dragStartThreshold:5,pointerDirectionChangeThreshold:5},kr=(()=>{class n{_document=o(ce);_ngZone=o(we);_viewportRuler=o(tn);_dragDropRegistry=o(ra);_renderer=o(Ei).createRenderer(null,null);constructor(){}createDrag(e,t=Us){return new Ji(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new ta(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ia=new ae("CDK_DRAG_PARENT");var Mr=new ae("CdkDragHandle"),Er=(()=>{class n{element=o(me);_parentDrag=o(ia,{optional:!0,skipSelf:!0});_dragDropRegistry=o(ra);_stateChanges=new C;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let t=this._dragDropRegistry.getDragDirectiveForNode(e);if(t){this._parentDrag=t,t._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",O]},features:[Se([{provide:Mr,useExisting:n}])]})}return n})(),Qs=new ae("CDK_DRAG_CONFIG"),Zs=new ae("CdkDropList"),Ar=(()=>{class n{element=o(me);dropContainer=o(Zs,{optional:!0,skipSelf:!0});_ngZone=o(we);_viewContainerRef=o(St);_dir=o(Me,{optional:!0});_changeDetectorRef=o(K);_selfHandle=o(Mr,{optional:!0,self:!0});_parentDrag=o(ia,{optional:!0,skipSelf:!0});_dragDropRegistry=o(ra);_destroyed=new C;_handles=new _t([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new D;released=new D;ended=new D;entered=new D;exited=new D;dropped=new D;moved=new Si(e=>{let t=this._dragRef.moved.pipe(V(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=o(Ce);constructor(){let e=this.dropContainer,t=o(Qs,{optional:!0}),i=o(kr);this._dragRef=i.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(bt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Ze(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),i=t.indexOf(e);i>-1&&(t.splice(i,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ve(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,i=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof i=="object"&&i?i:Ka(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(vt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){e.withParent(i._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:i,constrainPosition:r,previewClass:s,boundaryElement:c,draggingDisabled:h,rootElementSelector:g,previewContainer:b}=e;this.disabled=h??!1,this.dragStartDelay=i||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),s&&(this.previewClass=s),c&&(this.boundaryElement=c),g&&(this.rootElementSelector=g),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.pipe(X(e=>{let t=e.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Dt(e=>ie(...e.map(t=>t._stateChanges.pipe(Ve(t))))),bt(this._destroyed)).subscribe(e=>{let t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ne({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){t&2&&z("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",O],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ta]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Se([{provide:ia,useExisting:n}]),J]})}return n})();var Ir=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[kr],imports:[Bt]})}return n})();var eo=[[["","msk-dialog-content",""]]],to=["[msk-dialog-content]"],io=n=>({"mt-1":n}),ao=n=>({"me-1":n});function no(n,a){n&1&&(d(0,"div",2),v(1,"mat-spinner",3),p())}function ro(n,a){if(n&1&&ge(0,6),n&2){u(2);let e=oe(3);_("ngTemplateOutlet",e)}}function so(n,a){if(n&1&&ge(0,6),n&2){let e=u(2);_("ngTemplateOutlet",e.trailing()||null)}}function oo(n,a){if(n&1&&ge(0,6),n&2){u(2);let e=oe(3);_("ngTemplateOutlet",e)}}function lo(n,a){if(n&1&&ge(0,6),n&2){let e=u(2);_("ngTemplateOutlet",e.primaryAction()||null)}}function co(n,a){if(n&1&&(d(0,"mat-dialog-actions",9),ge(1,6)(2,6),p()),n&2){let e=u(2),t=oe(5);l(),_("ngTemplateOutlet",t),l(),_("ngTemplateOutlet",e.primaryAction()||null)}}function po(n,a){if(n&1&&(d(0,"div",4)(1,"div",5),f(2,ro,1,1,"ng-container",6),d(3,"span",7),m(4),p()(),d(5,"div",8),f(6,so,1,1,"ng-container",6)(7,oo,1,1,"ng-container",6)(8,lo,1,1,"ng-container",6),p()(),d(9,"mat-dialog-content"),Ye(10),p(),f(11,co,3,2,"mat-dialog-actions",9)),n&2){let e=u();z("cursor-move",e.hasDrag()&&!e.isFullScreen())("shadow-level-2",e.isScrolled()),_("cdkDragFreeDragPosition",e.dragPosition)("cdkDragDisabled",!e.hasDrag()||e.isFullScreen()),l(2),S(e.isFullScreen()?2:-1),l(),_("ngClass",A(13,io,e.isFullScreen)),l(),x(" ",e.title()," "),l(2),S(e.hasAction()?-1:6),l(),S(e.isFullScreen()?-1:7),l(),S(e.hasAction()&&e.isFullScreen()?8:-1),l(3),S(e.hasAction()&&!e.isFullScreen()?11:-1)}}function ho(n,a){if(n&1&&(d(0,"button",10)(1,"mat-icon",11),m(2,"close"),p()()),n&2){let e=u();_("ngClass",A(1,ao,e.isFullScreen()))}}function mo(n,a){if(n&1&&(d(0,"button",13),m(1),p()),n&2){let e=a.$implicit;l(),x(" ",e("cancel")," ")}}function uo(n,a){n&1&&f(0,mo,2,1,"button",12)}var Pr=(()=>{class n{constructor(){this._parent=o(jt),this._destroyRef=o(wt),this._mskMediaWatcherService=o(za),this._dialogContent=Xe.required(Pe,{read:Ie}),this.title=H.required(),this.isLoading=H(!1),this.hasDrag=H(!1),this.hasAction=H(!1),this.primaryAction=H(),this.trailing=H(),this.isScrolled=I(!1),this.isFullScreen=I(!1),this.dragPosition={x:0,y:0},Va(()=>{this.isFullScreen()?(this.dragPosition={x:0,y:0},this._parent.addPanelClass("mat-mdc-dialog-fullscreen")):this._parent.removePanelClass("mat-mdc-dialog-fullscreen")})}ngOnInit(){this._parent?.addPanelClass("msk-dialog-panel"),this._mskMediaWatcherService.onMediaChange$.pipe(ke(this._destroyRef)).subscribe(({matchingAliases:e})=>{this.isFullScreen.set(!e.includes("md"))})}ngAfterViewInit(){this._dialogContent().elementScrolled().pipe(ke(this._destroyRef),V(e=>e.target.scrollTop||0),ft(e=>this.isScrolled()!=e>10)).subscribe(e=>{this.isScrolled.set(e>10)})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-dialog"]],viewQuery:function(t,i){t&1&&et(i._dialogContent,Pe,5,Ie),t&2&&kt()},inputs:{title:[1,"title"],isLoading:[1,"isLoading"],hasDrag:[1,"hasDrag"],hasAction:[1,"hasAction"],primaryAction:[1,"primaryAction"],trailing:[1,"trailing"]},exportAs:["mskDialog"],ngContentSelectors:to,decls:6,vars:1,consts:[["closeIconButton",""],["closeActionButton",""],[1,"h-30","flex","items-center","justify-center"],["mode","indeterminate","diameter","40"],["cdkDrag","","cdkDragHandle","","cdkDragRootElement",".cdk-overlay-pane","mat-dialog-title","",1,"z-10","flex","items-center","justify-between",3,"cdkDragFreeDragPosition","cdkDragDisabled"],[1,"flex","items-center","truncate"],[3,"ngTemplateOutlet"],[3,"ngClass"],[1,"flex","items-center"],["align","end"],["mat-icon-button","","matDialogClose","cancelled",3,"ngClass"],[1,"text-current"],["mat-button","","matDialogClose","cancelled",4,"transloco"],["mat-button","","matDialogClose","cancelled"]],template:function(t,i){t&1&&(Le(eo),f(0,no,2,0,"div",2)(1,po,12,15)(2,ho,3,3,"ng-template",null,0,fe)(4,uo,1,0,"ng-template",null,1,fe)),t&2&&S(i.isLoading()?0:1)},dependencies:[R,Pt,Ir,Ar,Er,q,W,U,he,pe,He,Kt,Wt,qt,Pe,Fn,Vn,De],encapsulation:2,data:{animation:Be},changeDetection:0})}}return n})();var _o=(n,a,e,t)=>({"text-blue-400 dark:text-blue-700":n,"text-green-400 dark:text-green-700":a,"text-amber-400 dark:text-amber-700":e,"text-red-400 dark:text-red-700":t}),go=n=>({"mt-1":n});function fo(n,a){n&1&&v(0,"mat-icon",2)}function vo(n,a){n&1&&v(0,"mat-icon",3)}function Do(n,a){n&1&&v(0,"mat-icon",2)}function bo(n,a){n&1&&v(0,"mat-icon",4)}function yo(n,a){n&1&&v(0,"mat-icon",5)}function Co(n,a){if(n&1&&(d(0,"div",7),m(1),p()),n&2){let e=u();l(),y(e.data.title)}}function wo(n,a){if(n&1){let e=ee();d(0,"div",9)(1,"button",10),k("click",function(){M(e);let i=u();return E(i.sbRef.dismiss())}),d(2,"mat-icon",11),m(3,"close"),p()()()}}var Rr=(()=>{class n{constructor(){this.data=o(fn),this.sbRef=o(gn)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-snack-bar"]],decls:11,vars:13,consts:[[1,"flex",3,"ngClass"],[1,"me-3","flex"],["svgIcon","heroicons_solid:check-circle"],["svgIcon","heroicons_solid:information-circle"],["svgIcon","heroicons_solid:exclamation-triangle"],["svgIcon","heroicons_solid:x-circle"],[1,"flex","flex-1","flex-col","leading-6"],[1,"font-semibold"],[3,"ngClass","innerText"],["matSnackBarActions",""],["mat-icon-button","","matSnackBarAction","",3,"click"],[1,"text-inverse-on-surface"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1),f(2,fo,1,0,"mat-icon",2)(3,vo,1,0,"mat-icon",3)(4,Do,1,0,"mat-icon",2)(5,bo,1,0,"mat-icon",4)(6,yo,1,0,"mat-icon",5),p(),d(7,"div",6),f(8,Co,2,1,"div",7),v(9,"div",8),p(),f(10,wo,4,0,"div",9),p()),t&2){let r;_("ngClass",Pa(6,_o,i.data.type==="info",i.data.type==="success",i.data.type==="warning",i.data.type==="error")),l(2),S((r=i.data.type)==="basic"?2:r==="info"?3:r==="success"?4:r==="warning"?5:r==="error"?6:-1),l(6),S(i.data.title?8:-1),l(),_("ngClass",A(11,go,i.data.title))("innerText",i.data.message),l(),S(i.data.dismissible?10:-1)}},dependencies:[R,q,W,U,pe,yn,vn,Dn],encapsulation:2,changeDetection:0})}}return n})();var Tr=(()=>{class n{constructor(){this._document=o(ce),this._matSnackBar=o(bn)}basic(e,t,i){return this.open({type:"basic",title:t,message:e,dismissible:i??!1})}info(e,t,i){return this.open({type:"info",title:t,message:e,dismissible:i??!1})}success(e,t,i){return this.open({type:"success",title:t,message:e,dismissible:i??!1})}warning(e,t,i){return this.open({type:"warning",title:t,message:e,dismissible:i??!1})}error(e,t,i){return this.open({type:"error",title:t,message:e,dismissible:i??!1})}open(e){let t={duration:e.dismissible?99999999:5e3,direction:this._document.body.getAttribute("dir"),data:e};return this._matSnackBar.openFromComponent(Rr,t)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var So=n=>({"text-center":n});function xo(n,a){if(n&1&&(d(0,"div",0)(1,"mat-icon"),m(2),p()()),n&2){let e=u();l(2),y(e.data.icon==null?null:e.data.icon.name)}}function ko(n,a){if(n&1&&(d(0,"h2",1),m(1),p()),n&2){let e=u();_("ngClass",A(2,So,e.data.icon==null?null:e.data.icon.show)),l(),y(e.data.title)}}function Mo(n,a){if(n&1&&(d(0,"button",3),m(1),p()),n&2){let e=u(2);l(),x(" ",e.data.actions==null||e.data.actions.cancel==null?null:e.data.actions.cancel.label," ")}}function Eo(n,a){if(n&1&&(d(0,"button",4),m(1),p()),n&2){let e=u(2);l(),x(" ",e.data.actions==null||e.data.actions.confirm==null?null:e.data.actions.confirm.label," ")}}function Ao(n,a){if(n&1&&(d(0,"mat-dialog-actions"),f(1,Mo,2,1,"button",3)(2,Eo,2,1,"button",4),p()),n&2){let e=u();l(),S(!(e.data.actions==null||e.data.actions.cancel==null)&&e.data.actions.cancel.show?1:-1),l(),S(!(e.data.actions==null||e.data.actions.confirm==null)&&e.data.actions.confirm.show?2:-1)}}var Vr=(()=>{class n{constructor(){this.data=o(Gt)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-confirmation-dialog"]],decls:5,vars:4,consts:[[1,"mat-mdc-dialog-icon"],["mat-dialog-title","",3,"ngClass"],[3,"innerHTML"],["mat-button","","matDialogClose","cancelled"],["mat-button","","matDialogClose","confirmed"]],template:function(t,i){t&1&&(f(0,xo,3,1,"div",0)(1,ko,2,4,"h2",1),d(2,"mat-dialog-content"),v(3,"div",2),p(),f(4,Ao,3,2,"mat-dialog-actions")),t&2&&(S(i.data.icon!=null&&i.data.icon.show?0:-1),l(),S(i.data.title?1:-1),l(2),_("innerHTML",i.data.message,ya),l(),S(!(i.data.actions==null||i.data.actions.confirm==null)&&i.data.actions.confirm.show||!(i.data.actions==null||i.data.actions.cancel==null)&&i.data.actions.cancel.show?4:-1))},dependencies:[R,q,W,U,he,He,Kt,Wt,qt,Pe],encapsulation:2})}}return n})();var Fr=(()=>{class n{constructor(){this._document=o(ce),this._matDialog=o($t),this._defaultConfig={title:"",message:"",actions:{confirm:{show:!0,label:"Confirm"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}}open(e={}){let t=Ha({},this._defaultConfig,e);return this._matDialog.open(Vr,{autoFocus:!1,direction:this._document.body.getAttribute("dir"),disableClose:!t.dismissible,data:t,panelClass:"msk-confirmation-dialog-panel"})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Io={gregorian:Mn,jalali:En},Or=(()=>{class n{constructor(){this.matDateLocale=o(un),this._calendarType="gregorian",this.matDateLocale.code==="fa-IR"&&(this._calendarType="jalali",this.matDateLocale=_n)}transform(e,t="mediumDate"){if(e===""||e==null||e!==e)return null;switch(t){case"short":return this._formatDate(e,"Pp");case"medium":return this._formatDate(e,"PPpp");case"long":return this._formatDate(e,"PPPppp");case"full":return this._formatDate(e,"PPPPpppp");case"shortDate":return this._formatDate(e,"P");case"mediumDate":return this._formatDate(e,"PP");case"longDate":return this._formatDate(e,"PPP");case"fullDate":return this._formatDate(e,"PPPP");case"shortTime":return this._formatDate(e,"p");case"mediumTime":return this._formatDate(e,"pp");case"longTime":return this._formatDate(e,"ppp");case"fullTime":return this._formatDate(e,"pppp");default:return this._formatDate(e,t)}}_formatDate(e,t){return Io[this._calendarType](new Date(e),t,{locale:this.matDateLocale})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=xa({name:"mskDateTime",type:n,pure:!1})}}return n})();var bi=class{constructor(a,e,t){this._transloco=t,this._handleFormErrors(a,e)}_handleFormErrors(a,e){a.statusChanges.subscribe(()=>{this._findErrors(a,e)})}_findErrors(a,e){Object.keys(a.controls).forEach(t=>{let i=a.get(t);i instanceof Re?this._findErrorsOnFormControls(e,i,t):i instanceof ze?(Object.defineProperty(e,t,{value:{},writable:!0}),this._findErrors(i,e[t])):i instanceof ei&&(Object.defineProperty(e,t,{value:[],writable:!0}),i.controls.forEach(r=>this._findErrors(r,e[t])))})}_findErrorsOnFormControls(a,e,t){e.invalid&&(e.dirty||e.touched)?Object.defineProperty(a,t,{writable:!0,configurable:!0,value:this._getErrorMessage(e.errors)}):delete a[t]}_getErrorMessage(a){return a?a.serverError?a.serverError:a.required?this._transloco.translate("error-validation.required"):a.minlength?this._transloco.translate("error-validation.min-length",{min:a.minlength.requiredLength}):a.maxlength?this._transloco.translate("error-validation.max-length",{max:a.maxlength.requiredLength}):a.min?this._transloco.translate("error-validation.min",{min:a.min.min}):a.max?this._transloco.translate("error-validation.max",{max:a.max.max}):a.email?this._transloco.translate("error-validation.email"):a.pattern?this._transloco.translate("error-validation.pattern"):a.iranianIBAN?this._transloco.translate("error-validation.iranian-iban"):a.passwordMismatch?this._transloco.translate("error-validation.passwords-must-match"):"":""}};function Nr(n,a){n&&Object.keys(n).forEach(e=>{a.get(Ba(e))?.setErrors({serverError:n[e][0]})})}function yi(n){Object.keys(n.controls).forEach(a=>{let e=n.get(a);e instanceof Re?(e.markAsTouched(),e.updateValueAndValidity()):e instanceof ze?yi(e):e instanceof ei&&e.controls.forEach(t=>{yi(t)})})}var Po=n=>({code:n}),Ro=n=>({t:n}),To=n=>({name:n}),Lr=n=>({"!text-error":n}),Vo=()=>[1,2,3];function Fo(n,a){if(n&1){let e=ee();d(0,"button",8),k("click",function(){M(e);let i=u(2);return E(i.editMode())}),d(1,"mat-icon",9),m(2,"edit"),p()()}}function Oo(n,a){if(n&1&&(d(0,"span"),m(1),p()),n&2){let e=a.$implicit,t=u(3);l(),y(t.form.enabled?e("save"):"")}}function No(n,a){if(n&1){let e=ee();d(0,"button",10),k("click",function(){M(e);let i=u(2);return E(i.saveAndClose())}),f(1,Oo,2,1,"span",11),p()}if(n&2){let e=u(2);_("disabled",e.form.disabled)("mskSpinner",e.form.disabled)}}function Lo(n,a){if(n&1&&(d(0,"msk-dialog",6),ge(1,7),f(2,Fo,3,0,"ng-template",null,2,fe)(4,No,2,2,"ng-template",null,3,fe),p()),n&2){let e,t=a.$implicit,i=oe(3),r=oe(5),s=u(),c=oe(2),h=oe(4);_("title",t(s.data.action(),A(6,Po,(e=s.data.item())==null?null:e.code)))("hasAction",s.data.action()!=="view")("primaryAction",r)("trailing",i),l(),_("ngTemplateOutlet",s.data.action()==="view"?c:h)("ngTemplateOutletContext",A(8,Ro,t))}}function Yo(n,a){if(n&1&&(d(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"badge"),p()(),d(4,"div",21)(5,"span"),m(6),p(),d(7,"span"),m(8),p()()()),n&2){let e,t=u().t,i=u();l(6),y(((e=i.data.item())==null?null:e.nationalCode)||"-"),l(2),y(t("nationalCode"))}}function Bo(n,a){if(n&1&&(d(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"cake"),p()(),d(4,"div",21)(5,"span"),m(6),xe(7,"mskDateTime"),p(),d(8,"span"),m(9),p()()()),n&2){let e,t=u().t,i=u();l(6),y(Ra(7,2,(e=i.data.item())==null?null:e.dateOfBirth,"longDate")||"-"),l(3),y(t("birthday"))}}function Ho(n,a){if(n&1&&(d(0,"span"),m(1),p()),n&2){let e,t=a.$implicit,i=u(3);l(),y(t((e=(e=i.data.item())==null||e.gender==null?null:e.gender.toString())!==null&&e!==void 0?e:""))}}function zo(n,a){if(n&1&&(d(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"male"),p()(),d(4,"div",21),f(5,Ho,2,1,"span",22),d(6,"span"),m(7),p()()()),n&2){let e=u().t;l(5),_("translocoRead","people.genders"),l(2),y(e("gender"))}}function jo(n,a){if(n&1&&(d(0,"div",15)(1,"div",16),m(2),p(),d(3,"div",17)(4,"div",20)(5,"mat-icon"),m(6,"sticky_note_2"),p()(),d(7,"div",21)(8,"span"),m(9),p()()()()),n&2){let e,t=u().t,i=u();l(2),y(t("note")),l(7),y((e=i.data.item())==null?null:e.note)}}function Go(n,a){if(n&1){let e=ee();d(0,"div",23)(1,"div",16),m(2),p(),d(3,"div",24),k("click",function(){M(e);let i=u(2);return E(i.updateStatus())}),d(4,"div",20)(5,"mat-icon",25),m(6),p()(),d(7,"div",21)(8,"span",25),m(9),p()()()()}if(n&2){let e,t,i,r,s=a.$implicit,c=u(2);l(2),y(s("settings")),l(3),_("ngClass",A(5,Lr,(e=c.data.item())==null?null:e.isActive)),l(),x(" ",(t=c.data.item())!=null&&t.isActive?"cancel":"check_circle"," "),l(2),_("ngClass",A(7,Lr,(i=c.data.item())==null?null:i.isActive)),l(),x(" ",(r=c.data.item())!=null&&r.isActive?s("people.deactivate"):s("people.activate")," ")}}function $o(n,a){if(n&1&&(d(0,"div",12),v(1,"msk-avatar",13),d(2,"div",14),m(3),p()(),d(4,"div",15)(5,"div",16),m(6),p(),f(7,Yo,9,2,"div",17)(8,Bo,10,5,"div",17)(9,zo,8,2,"div",17),p(),f(10,jo,10,2,"div",15),v(11,"div",18),f(12,Go,10,9,"div",19)),n&2){let e,t,i,r,s,c,h,g=a.t,b=u();l(),_("name",(e=(e=b.data.item())==null?null:e.fullName)!==null&&e!==void 0?e:""),l(2),x(" ",(t=b.data.item())==null?null:t.fullName," "),l(3),x(" ",g("about",A(7,To,(i=b.data.item())==null?null:i.fullName))," "),l(),S((r=b.data.item())!=null&&r.nationalCode?7:-1),l(),S((s=b.data.item())!=null&&s.dateOfBirth?8:-1),l(),S((c=b.data.item())!=null&&c.gender?9:-1),l(),S((h=b.data.item())!=null&&h.note?10:-1)}}function Ko(n,a){if(n&1&&(d(0,"msk-alert",27),m(1),p()),n&2){let e=u(2);_("@shake",void 0),l(),x(" ",e.alert().message," ")}}function Wo(n,a){if(n&1&&(d(0,"mat-option",37),m(1),p()),n&2){let e=a.$implicit,t=u().$implicit;_("value",e),l(),y(t("people.genders."+e))}}function qo(n,a){n&1&&(d(0,"mat-select",36),ue(1,Wo,2,2,"mat-option",37,ka),p()),n&2&&(l(),_e(It(0,Vo)))}function Uo(n,a){if(n&1&&(d(0,"form",26),f(1,Ko,2,2,"msk-alert",27),d(2,"div",28)(3,"mat-form-field")(4,"mat-label"),m(5),p(),v(6,"input",29),d(7,"mat-error"),m(8),p()(),d(9,"mat-form-field")(10,"mat-label"),m(11),p(),v(12,"input",30),d(13,"mat-error"),m(14),p()()(),d(15,"div",28)(16,"mat-form-field")(17,"mat-label"),m(18),p(),v(19,"input",31),d(20,"mat-error"),m(21),p()(),d(22,"mat-form-field")(23,"mat-label"),m(24),p(),v(25,"input",32)(26,"mat-datepicker-toggle",33)(27,"mat-datepicker",null,4),d(29,"mat-error"),m(30),p()()(),d(31,"mat-form-field")(32,"mat-label"),m(33),p(),f(34,qo,3,1,"mat-select",34),d(35,"mat-error"),m(36),p()(),d(37,"mat-form-field"),v(38,"textarea",35),d(39,"mat-error"),m(40),p()()()),n&2){let e=a.t,t=oe(28),i=u();_("formGroup",i.form),l(),S(i.alert().show?1:-1),l(4),y(e("firstName")),l(3),y(i.formErrors.firstName),l(3),y(e("lastName")),l(3),y(i.formErrors.lastName),l(4),y(e("nationalCode")),l(3),y(i.formErrors.nationalCode),l(3),y(e("birthday")),l(),_("matDatepicker",t),l(),_("for",t),l(4),y(i.formErrors.dateOfBirth),l(3),y(e("gender")),l(3),y(i.formErrors.gender),l(2),_("placeholder",e("note"))("rows",2),l(2),y(i.formErrors.note)}}var Yr=(()=>{class n{constructor(){this.data=o(Gt),this.dialogRef=o(jt),this._formBuilder=o(mn),this._peopleService=o(Te),this._translocoService=o(Qa),this._mskSnackbarService=o(Tr),this._mskConfirmationService=o(Fr),this.formErrors={},this.alert=I({show:!1,message:""})}ngOnInit(){this.form=this._formBuilder.group({id:[0,te.required],firstName:["",[te.required,te.minLength(2),te.maxLength(25)]],lastName:["",[te.required,te.minLength(2),te.maxLength(25)]],nationalCode:"",dateOfBirth:null,gender:["",te.required],note:""}),new bi(this.form,this.formErrors,this._translocoService),this.form.patchValue(this.data.item()||{})}editMode(){this.data.action.set("edit")}updateStatus(){let e=this.data.item()?.isActive;this._mskConfirmationService.open({title:this._translocoService.translate(e?"people.deactivate":"people.activate"),message:this._translocoService.translate(e?"people.deactivate-message":"people.activate-message",{name:this.data.item()?.fullName}),actions:{confirm:{label:this._translocoService.translate(e?"deactivate":"activate")},cancel:{label:this._translocoService.translate("cancel")}}}).afterClosed().subscribe(i=>{if(i!=="confirmed")return;let r={id:this.data.item()?.id,isActive:!this.data.item()?.isActive};this._peopleService.updatePersonStatus(r).pipe(V(s=>{this.data.item.set(s)}),ye(s=>(this._mskSnackbarService.error(s.error.message),Qe))).subscribe()})}saveAndClose(){if(yi(this.form),this.form.invalid)return;this.form.disable(),this.alert.set({show:!1,message:""}),(this.data.action()==="edit"?this._peopleService.updatePerson(this.form.value):this._peopleService.createPerson(this.form.value)).pipe(X(t=>this.dialogRef.close(t)),ye(t=>(this.form.enable(),this.alert.set({show:!0,message:t.error.message}),t.error.errors&&Nr(t.error.errors,this.form),Qe))).subscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-details"]],decls:5,vars:1,consts:[["viewTemplate",""],["formTemplate",""],["trailing",""],["primaryAction",""],["picker",""],[3,"title","hasAction","primaryAction","trailing",4,"transloco","translocoRead"],[3,"title","hasAction","primaryAction","trailing"],["msk-dialog-content","",3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-icon-button","",3,"click"],[1,"mat-icon-rtl-mirror","text-current"],["mat-button","",3,"click","disabled","mskSpinner"],[4,"transloco"],[1,"mb-2","flex","flex-col","items-center","gap-5","p-4"],["size","big",3,"name"],[1,"text-headline-small","text-on-surface"],[1,"msk-mat-card-filled","mb-2","p-4"],[1,"text-secondary","mb-2","font-bold"],[1,"msk-list-item","-mx-4"],[1,"my-4","border-t"],["class","mb-2",4,"transloco"],[1,"msk-list-item-icon"],[1,"msk-list-item-content"],[4,"transloco","translocoRead"],[1,"mb-2"],["matRipple","","aria-hidden","true",1,"msk-list-item","-mx-6","cursor-pointer","gap-2",3,"click"],[3,"ngClass"],[1,"flex","flex-auto","flex-col","gap-y-2",3,"formGroup"],["appearance","outline","type","error",1,"mb-4"],[1,"flex","flex-col","gap-x-4","sm:flex-row","[&>*]:flex-1"],["matInput","","formControlName","firstName","maxlength","128","autocomplete","off"],["matInput","","formControlName","lastName","maxlength","128","autocomplete","off"],["matInput","","formControlName","nationalCode","maxlength","10","autocomplete","off"],["matInput","","formControlName","dateOfBirth",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","gender",4,"transloco"],["matInput","","formControlName","note",3,"placeholder","rows"],["formControlName","gender"],[3,"value"]],template:function(t,i){t&1&&f(0,Lo,6,10,"msk-dialog",5)(1,$o,13,9,"ng-template",null,0,fe)(3,Uo,41,17,"ng-template",null,1,fe),t&2&&_("translocoRead","people.details")},dependencies:[R,Pt,ti,Xt,Ut,Qt,Zt,hn,ii,at,Jt,q,W,ni,Rn,kn,Cn,wn,Sn,Yt,Lt,U,he,pe,Oi,Fi,Vi,zt,ai,sr,rr,_i,qi,He,De,Tn,oi,Pr,On,Or],encapsulation:2,data:{animation:Be},changeDetection:0})}}return n})();var sa=(()=>{class n{constructor(){this._router=o(Tt),this._injector=o(Ce),this._matDialog=o($t),this._activatedRoute=o(Na)}ngOnInit(){let e=this._activatedRoute.snapshot.url[1].path;this._matDialog.open(Yr,{autoFocus:e!=="view",disableClose:e!=="view",data:{action:I(e),item:I(this._activatedRoute.snapshot.data.card)}}).afterClosed().subscribe(t=>{e==="new"&&t!="cancelled"&&this._injector.get(di).getPersons().subscribe(),this._router.navigate([this._activatedRoute.snapshot.url.map(()=>"../").join("")],{relativeTo:this._activatedRoute})})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-card"]],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return n})();var Qo=ha({"./i18n/en.json":()=>import("./chunk-Y7AGHPTT.js"),"./i18n/fa.json":()=>import("./chunk-BM72TITZ.js")});var Zo=(n,a)=>{let e=o(Te),t=o(Tt);return e.getPerson(n.paramMap.get("id")??0).pipe(ye(i=>{console.error(i);let r=a.url.split("/").slice(0,-1).join("/");return t.navigateByUrl(r),_a(()=>new Error(i.message))}))},Zh=[{path:"",pathMatch:"full",redirectTo:"list"},{path:"",component:Nn,providers:[Za({scope:"people",loader:dn((n,a)=>Qo(`./${a}/${n}.json`))})],children:[{path:"",component:di,resolve:{persons:()=>o(Te).getPersons()},children:[{path:"card/new",component:sa,resolve:{}},{path:"card/view/:id",component:sa,resolve:{card:Zo}}]}]}];export{Nn as a,Ln as b,rt as c,Yn as d,Te as e,Bn as f,Hn as g,oi as h,rr as i,_i as j,qi as k,sr as l,Pr as m,Tr as n,Fr as o,Or as p,bi as q,Nr as r,yi as s,Zh as t};
