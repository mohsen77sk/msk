import{a as _}from"./chunk-SM3FRAAW.js";import{b as G,c as Z,d as Y,e as W}from"./chunk-2YGBMOOR.js";import{R as q,b as U,fa as J,ia as K,na as Q}from"./chunk-DMPZODJ5.js";import{Ba as T,Db as $,Ea as L,Eb as l,Fa as A,Ia as D,Ja as P,Mb as I,Nb as g,Ob as k,Pa as R,Pb as z,Qc as F,Rb as V,Tb as b,Tc as H,Uc as M,Xb as i,Xc as j,Yb as t,Zb as m,bc as N,ca as E,da as B,fa as C,g as u,hc as w,ia as s,ib as c,jc as f,nb as X,q as h,ta as x,ua as y,uc as r,xb as p,yb as O}from"./chunk-FXLTEG45.js";var v=(()=>{class n{constructor(){this._auto$=new u(!0),this._mode$=new u("indeterminate"),this._progress$=new u(0),this._show$=new u(!1),this._urlMap=new Map}get auto$(){return this._auto$.asObservable()}get mode$(){return this._mode$.asObservable()}get progress$(){return this._progress$.asObservable()}get show$(){return this._show$.asObservable()}show(){this._show$.next(!0)}hide(){this._show$.next(!1)}setAutoMode(e){this._auto$.next(e)}setMode(e){this._mode$.next(e)}setProgress(e){if(e<0||e>100){console.error("Progress value must be between 0 and 100!");return}this._progress$.next(e)}setLoadingStatus(e,a){if(!a){console.error("The request URL must be provided!");return}e===!0?(this._urlMap.set(a,e),this._show$.next(!0)):e===!1&&this._urlMap.has(a)&&this._urlMap.delete(a),this._urlMap.size===0&&this._show$.next(!1)}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ie(n,d){if(n&1){let e=N();i(0,"div",22)(1,"button",23),w("click",function(){x(e);let o=f();return y(o.showLoadingBar())}),r(2,"Show loading bar"),t(),i(3,"button",23),w("click",function(){x(e);let o=f();return y(o.hideLoadingBar())}),r(4,"Hide loading bar"),t()()}}function ne(n,d){n&1&&(i(0,"textarea",24),r(1,`              <div class="mx-auto flex space-x-4">
                <button mat-flat-button (click)="showLoadingBar()">Show loading bar</button>
                <button mat-flat-button (click)="hideLoadingBar()">Hide loading bar</button>
              </div>
            `),t()),n&2&&g("lang","html")}function ae(n,d){n&1&&(i(0,"textarea",24),r(1,`              /**
                * Constructor
                */
              constructor(private _mskLoadingService: MskLoadingBarService) {}

              /**
                * Show the loading bar
                */
              showLoadingBar(): void {
                this._mskLoadingService.show();
              }

              /**
                * Hide the loading bar
                */
              hideLoadingBar(): void {
                this._mskLoadingService.hide();
              }
            `),t()),n&2&&g("lang","typescript")}var ke=(()=>{class n{constructor(){this._mskLoadingService=s(v)}showLoadingBar(){this._mskLoadingService.show()}hideLoadingBar(){this._mskLoadingService.hide()}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=p({type:n,selectors:[["msk-docs-loading-bar"]],decls:106,vars:1,consts:[["dir","ltr",1,"page-layout","content-scroll","md:py-4"],[1,"content","prose","max-w-full"],[1,"sticky-header","mt-4","md:mt-0"],["msk-highlight","","lang","typescript"],[1,"sticky-header"],["msk-highlight","","lang","html"],[1,"msk-mat-card-filled","flex-shrink-0","overflow-auto","p-4"],[1,"m-0"],[1,"text-md","text-secondary"],[1,"msk-mat-card-filled","mt-4"],[1,"text-secondary","text-title-small","border-b","px-6","py-3"],[1,"p-6"],[1,"example-viewer"],[1,"header"],[1,"title"],[1,"action"],["mat-stretch-tabs","false",3,"animationDuration"],["label","Preview"],["matTabContent",""],["label","HTML"],["label","Typescript"],[1,"mb-6"],[1,"mx-auto","flex","space-x-4"],["mat-flat-button","",3,"click"],["msk-highlight","",3,"lang"]],template:function(a,o){a&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"Component"),t(),i(4,"textarea",3),r(5,`      import { MskLoadingBarComponent } from '@msk/shared/ui/loading-bar';
    `),t(),i(6,"p")(7,"strong"),r(8,"msk-loading-bar"),t(),r(9," is a small component to show the loading status at the top of the page. It can be configured to the "),i(10,"strong"),r(11,"Auto Mode"),t(),r(12," to show/hide automatically on each HTTP request. It can also be toggled manually using its service. "),t(),i(13,"p")(14,"strong"),r(15,"Exported as: "),t(),i(16,"code"),r(17,"mskLoadingBar"),t()(),i(18,"h3",4),r(19,"Usage"),t(),i(20,"p"),r(21," Here's the basic usage of the "),i(22,"code"),r(23,"msk-loading-bar"),t(),r(24,". We already placed the component to the layout templates for you but you can always move it! "),t(),i(25,"textarea",5),r(26,"      <"),r(27,"msk-loading-bar>"),r(28,"<"),r(29,"/msk-loading-bar>"),r(30,`
    `),t(),i(31,"h3",4),r(32,"Properties"),t(),i(33,"div",6)(34,"table",7)(35,"thead")(36,"tr")(37,"th"),r(38,"Name"),t(),i(39,"th"),r(40,"Description"),t(),i(41,"th"),r(42,"Default"),t()()(),i(43,"tbody")(44,"tr")(45,"td",8),r(46,"autoMode: "),i(47,"i"),r(48,"<boolean>"),t()(),i(49,"td"),r(50,"Turn on or off the Auto Mode."),t(),i(51,"td")(52,"code"),r(53,"true"),t()()()()()(),i(54,"h3",4),r(55,"Service"),t(),i(56,"p")(57,"code"),r(58,"MskLoadingService"),t(),r(59," can be injected to control the loading bar from anywhere."),t(),i(60,"div",9)(61,"div",10),r(62,"show(): void;"),t(),i(63,"div",11),r(64,"Shows the loading bar"),t()(),i(65,"div",9)(66,"div",10),r(67,"hide(): void;"),t(),i(68,"div",11),r(69,"Hides the loading bar"),t()(),i(70,"div",9)(71,"div",10),r(72,"setAutoMode(value: boolean): void;"),t(),i(73,"div",11),r(74," Sets the Auto Mode. In Auto mode, loading bar will show when there is an HTTP request and it will hide when all HTTP requests are completed or failed. "),t()(),i(75,"div",9)(76,"div",10),r(77," setMode(value: 'determinate' | 'indeterminate'): void; "),t(),i(78,"div",11),r(79,"Sets the mode of the underlying "),i(80,"code"),r(81,"MatProgressBar"),t(),r(82," component."),t()(),i(83,"div",9)(84,"div",10),r(85,"setProgress(value: number): void;"),t(),i(86,"div",11),r(87," Sets the progress manually. Only available on "),i(88,"code"),r(89,"determinate"),t(),r(90," mode. "),t()(),i(91,"h3",4),r(92,"Examples"),t(),i(93,"div",12)(94,"div",13)(95,"div",14),r(96,"Show / hide the loading bar manually"),t(),m(97,"div",15),t(),i(98,"mat-tab-group",16)(99,"mat-tab",17),l(100,ie,5,0,"ng-template",18),t(),i(101,"mat-tab",19),l(102,ne,2,1,"ng-template",18),t(),i(103,"mat-tab",20),l(104,ae,2,1,"ng-template",18),t()()(),m(105,"div",21),t()()),a&2&&(c(98),g("animationDuration","0ms"))},dependencies:[Q,W,U,G,Z,Y,K,J],encapsulation:2})}}return n})();function oe(n,d){n&1&&m(0,"div",2)}var se=new C("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var te=(()=>{class n{_elementRef=s(P);_ngZone=s(A);_changeDetectorRef=s(F);_renderer=s(X);_cleanupTransitionEnd;_animationMode=s(R,{optional:!0});constructor(){let e=s(se,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=ee(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=ee(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new L;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(a){return new(a||n)};static \u0275cmp=p({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(a,o){a&2&&(I("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),V("mat-"+o.color),z("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",M],bufferValue:[2,"bufferValue","bufferValue",M],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[$],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(a,o){a&1&&(i(0,"div",0),m(1,"div",1),l(2,oe,1,0,"div",2),t(),i(3,"div",3),m(4,"span",4),t(),i(5,"div",5),m(6,"span",4),t()),a&2&&(c(),k("flex-basis",o._getBufferBarFlexBasis()),c(),b(o.mode==="buffer"?2:-1),c(),k("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return n})();function ee(n,d=0,e=100){return Math.max(d,Math.min(e,n))}var re=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=O({type:n});static \u0275inj=B({imports:[q]})}return n})();function le(n,d){if(n&1&&m(0,"mat-progress-bar",0),n&2){let e=f();g("mode",e.mode)("value",e.progress)}}var ze=(()=>{class n{constructor(){this._destroyRef=s(T),this._mskLoadingBarService=s(v),this.autoMode=D(!0,{transform:H}),this.progress=0,this.show=!1,j(()=>{this._mskLoadingBarService.setAutoMode(this.autoMode())})}ngOnInit(){this._mskLoadingBarService.mode$.pipe(_(this._destroyRef),h(e=>this.mode=e)).subscribe(),this._mskLoadingBarService.progress$.pipe(_(this._destroyRef),h(e=>this.progress=e)).subscribe(),this._mskLoadingBarService.show$.pipe(_(this._destroyRef),h(e=>this.show=e)).subscribe()}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=p({type:n,selectors:[["msk-loading-bar"]],inputs:{autoMode:[1,"autoMode"]},exportAs:["mskLoadingBar"],decls:1,vars:1,consts:[[3,"mode","value"]],template:function(a,o){a&1&&l(0,le,1,2,"mat-progress-bar",0),a&2&&b(o.show?0:-1)},dependencies:[re,te],styles:[`msk-loading-bar{position:fixed;top:0;z-index:999;width:100%;height:6px}
`],encapsulation:2})}}return n})();export{v as a,ke as b,ze as c};
