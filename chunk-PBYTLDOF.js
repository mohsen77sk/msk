import{b as Me,c as Ee,d as ke,e as Ie,f as Te,g as B,h as be,i as rt,j as we,k as Fe,l as Re,m as $e,n as Le,o as Ne,p as Be,q as Oe,r as Ve}from"./chunk-457HKUFU.js";import"./chunk-ZJOS3O4J.js";import{c as Ae}from"./chunk-3WIIKWOS.js";import{b as De,c as at}from"./chunk-KMEMW2PI.js";import{ca as ne,ha as ve}from"./chunk-RJU3DPW4.js";import{a as xe,b as Ce,c as Se,h as ye}from"./chunk-Y2QIBJLA.js";import"./chunk-I3ROGWBB.js";import{c as ge}from"./chunk-5QDJEILZ.js";import{a as me}from"./chunk-XQ26CWD4.js";import{a as ce,b as L,c as se,e as le}from"./chunk-JLI54GTU.js";import{b as Kt,c as z,d as G,e as Yt}from"./chunk-YYLAQEUK.js";import{a as M}from"./chunk-3Z6MV2NN.js";import{a as pe,b as J}from"./chunk-4KB7ZZIK.js";import{a as fe,b as _e,c as he,d as ot}from"./chunk-44ECIHG3.js";import{A as it,B as nt,a as Zt,b as te,c as ee,g as ie,h as U,j as K,l as E,n as Y,o as X,p as de,r as St,t as Z,u as tt,w as et,z as ue}from"./chunk-3C2ZTXXY.js";import"./chunk-4PHRZYFI.js";import"./chunk-7ILYZQNL.js";import{k as W}from"./chunk-IHOLLE7C.js";import"./chunk-RMA4VDLF.js";import{U as q,V as Q,Y as Xt,ca as R,da as $,ea as oe,fa as ae,ga as re,ha as H}from"./chunk-MUK6VR5V.js";import"./chunk-FQ6ORXLW.js";import{b as Jt}from"./chunk-TM43TPS7.js";import{k as Ut,n as j,p as Ht,q as P,s as Wt}from"./chunk-RMMDD5TI.js";import{$b as vt,Ab as f,Ac as A,B as bt,Bc as F,Cc as Ct,D as I,Da as $t,Dc as N,Ea as V,Eb as p,Ka as Lt,Kb as y,L as wt,Lb as ht,Mb as T,Nb as b,Ob as r,Oc as qt,Pb as a,Qb as h,Rb as Bt,Rc as Qt,Sb as Ot,Tb as Vt,Ub as gt,X as Ft,_ as x,ba as Rt,bc as d,g as dt,gb as n,ha as m,j as Mt,jc as xt,kc as jt,l as Et,lc as w,m as kt,ma as g,mc as c,nc as l,oc as C,pc as Pt,q as _,rb as Nt,sb as _t,tc as zt,vc as v,w as It,wc as Gt,xa as ut,xc as D,ya as ft,z as Tt}from"./chunk-CILKVLCV.js";import{a as pt,c as At}from"./chunk-2R6CW7ES.js";var je=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["main-accounts"]],standalone:!0,features:[v],decls:1,vars:0,template:function(i,s){i&1&&h(0,"router-outlet")},dependencies:[z],encapsulation:2,changeDetection:0})}}return e})();var ct="code",st="asc",S=class{constructor(o){this.id=o.id,this.code=o.code,this.accountTypeId=o.accountTypeId,this.accountTypeName=o.accountTypeName,this.createDate=new Date(o.createDate),this.closeDate=o.closeDate?new Date(o.closeDate):void 0,this.balance=o.balance,this.persons=o.persons?.map(t=>new yt(t)),this.note=o.note,this.isActive=o.isActive}},yt=class{constructor(o){this.id=o.id,this.code=o.code,this.name=o.name}};var k=(()=>{class e{constructor(){this._appConfig=m(me),this._httpClient=m(Jt),this._pagination=new dt(null),this._accounts=new dt(null)}get pagination$(){return this._pagination.asObservable()}get _accounts$(){return this._accounts.asObservable()}getAccounts(t=1,i=10,s=`${ct} ${st}`){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/account/all`,{params:{page:t,pageSize:i,sortBy:s}}).pipe(_(u=>({pagination:new Ee(u),items:u.items.map(mt=>new S(mt))})),x(u=>{this._pagination.next(u.pagination),this._accounts.next(u.items)}))}getLookupAccounts(){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/account/lookup`).pipe(_(t=>t))}getLookupAccountTypes(){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/accountType/lookup`).pipe(_(t=>t))}getAccount(t){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/account/${t}`).pipe(_(i=>new S(i)))}getBalanceAccount(t){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/account/${t}/balance`).pipe(_(i=>i))}getAccountWithBalance(t){return It([this.getAccount(t),this.getBalanceAccount(t)]).pipe(_(i=>new S(pt(pt({},i[0]),i[1]))))}createAccount(t){return this._httpClient.post(`${this._appConfig.apiEndpoint}/api/account`,t).pipe(_(i=>new S(i)))}updateAccount(t){return this._httpClient.put(`${this._appConfig.apiEndpoint}/api/account`,t).pipe(_(i=>new S(i)),x(i=>{if(this._accounts.value){let s=this._accounts.value.findIndex(u=>u.id===i.id)??0;this._accounts.value[s]=i,this._accounts.next(this._accounts.value)}}))}closeAccount(t){return this._httpClient.put(`${this._appConfig.apiEndpoint}/api/account/close`,t).pipe(_(i=>new S(i)),x(i=>{if(this._accounts.value){let s=this._accounts.value.findIndex(u=>u.id===i.id)??0;this._accounts.value[s]=i,this._accounts.next(this._accounts.value)}}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Qe=e=>[e];function Ue(e,o){if(e&1&&(Bt(0),r(1,"mat-icon",1),c(2),a(),Ot()),e&2){let t=o.$implicit,i=d();n(),p("ngClass",D(3,Qe,i.value()?"text-green-400":"text-red-400"))("matTooltip",i.value()?t("active"):t("inactive")),n(),C(" ",i.value()?"check_circle":"cancel"," ")}}var ze=(()=>{class e{constructor(){this.value=Lt(!0,{transform:Qt})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["main-accounts-status"]],inputs:{value:[1,"value"]},standalone:!0,features:[v],decls:1,vars:0,consts:[[4,"transloco"],[1,"text-green-400",3,"ngClass","matTooltip"]],template:function(i,s){i&1&&f(0,Ue,3,5,"ng-container",0)},dependencies:[j,$,R,J,pe,L],styles:[`main-accounts-status{display:flex}
`],encapsulation:2,changeDetection:0})}}return e})();var Ke=(e,o)=>o.id,Ye=()=>["card","new"],Xe=e=>({"mat-mdc-extended-fab-collapses":e}),Ze=e=>["card","view",e];function ti(e,o){if(e&1&&(r(0,"div",11)(1,"form",12)(2,"div",13)(3,"mat-icon"),c(4,"search"),a(),h(5,"input",14),a()()()),e&2){let t=o.$implicit,i=d();n(),p("formGroup",i.filterForm),n(4),p("placeholder",t("accounts.search"))}}function ei(e,o){if(e&1&&c(0),e&2){let t=d(2).$implicit;C(" (+",t.persons.length-1,") ")}}function ii(e,o){if(e&1&&(r(0,"div",20)(1,"div",21),c(2),f(3,ei,1,1),a(),r(4,"div",22)(5,"span"),c(6),a()()()),e&2){let t=d().$implicit;n(2),Pt(" ",t.accountTypeName," - ",t.persons[0].name," "),n(),y(t.persons.length>1?3:-1),n(3),C("#",t.code,"")}}function ni(e,o){if(e&1&&(r(0,"div",4)(1,"div",15),h(2,"msk-avatar",16),a(),f(3,ii,7,4,"div",17),r(4,"div",18),h(5,"main-accounts-status",19),a()()),e&2){let t=o.$implicit;p("routerLink",D(4,Ze,t.id)),n(2),p("name",t.persons[0].name),n(),p("translocoRead","accounts.details"),n(2),p("value",t.isActive)}}function oi(e,o){if(e&1&&(r(0,"div",5),c(1),a()),e&2){let t=o.$implicit;n(),C(" ",t("accounts.empty-list")," ")}}function ai(e,o){e&1&&f(0,oi,2,1,"div",23)}function ri(e,o){if(e&1&&(r(0,"span"),c(1),a()),e&2){let t=o.$implicit;n(),l(t("new"))}}var lt=(()=>{class e{constructor(){this._destroyRef=m(V),this._accountService=m(k),this._changeDetectorRef=m(qt),this._gridContent=_t.required(W),this._paginator=_t.required(B),this._sort=new Ie,this.isLoading=!1,this.isFabCollapses=!1,this.lastOffsetScroll=0,this.pageSizeOptions=Me,this.filterForm=new de({search:new St(""),isActive:new St(null)})}ngOnInit(){this._accountService.pagination$.pipe(M(this._destroyRef),bt(t=>!!t)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.accounts$=this._accountService._accounts$}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:ct,start:st,disableClear:!0}),this._sort.sortChange.pipe(M(this._destroyRef),x(()=>this._paginator().pageIndex=0)).subscribe(),Tt(this._sort.sortChange,this._paginator().page).pipe(M(this._destroyRef),Ft(()=>this.getAccounts())).subscribe()),this._gridContent().elementScrolled().pipe(M(this._destroyRef),_(t=>t.target.scrollTop||0),x(t=>{let i=t>10?this.lastOffsetScroll<t:!1;this.isFabCollapses!==i&&(this.isFabCollapses=i,this._changeDetectorRef.markForCheck()),this.lastOffsetScroll=t})).subscribe()}getAccounts(t=!1){return this.isLoading=!0,this._changeDetectorRef.markForCheck(),this._accountService.getAccounts(t?1:this._paginator().pageIndex+1,this._paginator().pageSize,`${this._sort.active} ${this._sort.direction}`).pipe(I(i=>Et()),wt(()=>{this.isLoading=!1,this._changeDetectorRef.markForCheck()}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["main-accounts-list"]],viewQuery:function(i,s){i&1&&(xt(s._gridContent,W,5),xt(s._paginator,B,5)),i&2&&jt(2)},standalone:!0,features:[v],decls:16,vars:15,consts:[[1,"page-layout","grid-scroll"],["class","header",4,"transloco"],[1,"content"],["cdkScrollable","",1,"content-grid"],["matRipple","",1,"content-grid-item","tow-line",3,"routerLink"],[1,"text-secondary","p-8","text-center","text-xl","font-semibold","tracking-tight","sm:p-16"],[1,"content-fab-container"],["mat-fab","","extended","",3,"routerLink","ngClass"],[4,"transloco"],[1,"content-paginator",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","disabled"],[1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0"],[1,"header"],[1,"flex","w-full","items-center",3,"formGroup"],[1,"msk-mat-search-bar","w-full"],["formControlName","search","autocomplete","off",3,"placeholder"],[1,"content-grid-item-avatar"],[3,"name"],["class","content-grid-item-content",4,"transloco","translocoRead"],[1,"content-grid-item-end"],[3,"value"],[1,"content-grid-item-content"],[1,"truncate"],[1,"flex","items-center","gap-2","truncate"],["class","text-secondary p-8 text-center text-xl font-semibold tracking-tight sm:p-16",4,"transloco"]],template:function(i,s){i&1&&(r(0,"div",0),f(1,ti,6,2,"div",1),r(2,"div",2)(3,"div",3),T(4,ni,6,6,"div",4,Ke,!1,ai,1,0,"div",5),A(7,"async"),a(),r(8,"div",6)(9,"button",7)(10,"mat-icon"),c(11,"add"),a(),f(12,ri,2,1,"span",8),a()(),h(13,"mat-paginator",9),a()(),r(14,"div",10),h(15,"router-outlet"),a()),i&2&&(n(4),b(F(7,10,s.accounts$)),n(5),p("routerLink",Gt(12,Ye))("ngClass",D(13,Xe,s.isFabCollapses))("@zoomIn",void 0),n(4),p("length",s.pagination.total)("pageIndex",s.pagination.pageIndex)("pageSize",s.pagination.pageSize)("pageSizeOptions",s.pageSizeOptions)("showFirstLastButtons",!0)("disabled",s.isLoading))},dependencies:[P,j,it,Z,K,Y,X,nt,tt,et,Yt,z,W,$,R,ve,at,Q,q,H,ae,U,Te,be,B,L,rt,ze],encapsulation:2,data:{animation:ot},changeDetection:0})}}return e})();var ci=(e,o)=>o.id,si=e=>({code:e}),li=e=>({t:e});function mi(e,o){if(e&1){let t=gt();r(0,"button",8),vt("click",function(){ut(t);let s=d(2);return ft(s.editMode())}),r(1,"mat-icon",9),c(2,"edit"),a()()}}function pi(e,o){if(e&1&&(r(0,"span"),c(1),a()),e&2){let t=o.$implicit,i=d(3);n(),l(i.form.enabled?t("save"):"")}}function di(e,o){if(e&1){let t=gt();r(0,"button",10),vt("click",function(){ut(t);let s=d(2);return ft(s.saveAndClose())}),f(1,pi,2,1,"span",11),a()}if(e&2){let t=d(2);p("disabled",t.form.disabled)("mskSpinner",t.form.disabled)}}function ui(e,o){if(e&1&&(r(0,"msk-dialog",6),Vt(1,7),f(2,mi,3,0,"ng-template",null,2,N)(4,di,2,2,"ng-template",null,3,N),a()),e&2){let t=o.$implicit,i=w(3),s=w(5),u=d(),mt=w(2),qe=w(4);p("title",t(u.data.action,D(6,si,u.data.item==null?null:u.data.item.code)))("hasAction",u.data.action!=="view")("primaryAction",s)("trailing",i),n(),p("ngTemplateOutlet",u.data.action==="view"?mt:qe)("ngTemplateOutletContext",D(8,li,t))}}function fi(e,o){if(e&1&&(r(0,"div",17)(1,"div",19),h(2,"msk-avatar",20),a(),r(3,"div",21)(4,"span"),c(5),a(),r(6,"span"),c(7),a()()()),e&2){let t=o.$implicit;n(2),p("name",t.name),n(3),l(t.name),n(2),C("#",t.code,"")}}function _i(e,o){if(e&1&&(r(0,"div",18)(1,"div",19)(2,"mat-icon"),c(3,"credit_card_gear"),a()(),r(4,"div",21)(5,"span"),c(6),a(),r(7,"span"),c(8),a()()()),e&2){let t=d().t,i=d();n(6),l(i.data.item==null?null:i.data.item.accountTypeName),n(2),l(t("accountType"))}}function hi(e,o){if(e&1&&(r(0,"div",18)(1,"div",19)(2,"mat-icon"),c(3,"calendar_add_on"),a()(),r(4,"div",21)(5,"span"),c(6),A(7,"mskDateTime"),a(),r(8,"span"),c(9),a()()()),e&2){let t=d().t,i=d();n(6),l(Ct(7,2,i.data.item==null?null:i.data.item.createDate,"longDate")||"-"),n(3),l(t("createDate"))}}function gi(e,o){if(e&1&&(r(0,"div",18)(1,"div",19)(2,"mat-icon"),c(3,"event_busy"),a()(),r(4,"div",21)(5,"span"),c(6),A(7,"mskDateTime"),a(),r(8,"span"),c(9),a()()()),e&2){let t=d().t,i=d();n(6),l(Ct(7,2,i.data.item==null?null:i.data.item.closeDate,"longDate")||"-"),n(3),l(t("closeDate"))}}function vi(e,o){if(e&1&&(r(0,"div",15)(1,"div",16),c(2),a(),r(3,"div",18)(4,"div",19)(5,"mat-icon"),c(6,"sticky_note_2"),a()(),r(7,"div",21)(8,"span"),c(9),a()()()()),e&2){let t=d().t,i=d();n(2),l(t("note")),n(7),l(i.data.item==null?null:i.data.item.note)}}function xi(e,o){if(e&1&&(r(0,"div",12)(1,"span",13),c(2),a(),r(3,"span",14),c(4),A(5,"currency"),a()(),r(6,"div",15)(7,"div",16),c(8),a(),T(9,fi,8,3,"div",17,ci),a(),r(11,"div",15)(12,"div",16),c(13),a(),f(14,_i,9,2,"div",18)(15,hi,10,5,"div",18)(16,gi,10,5,"div",18),a(),f(17,vi,10,2,"div",15)),e&2){let t=o.t,i=d();n(2),l(t("credit")),n(2),l(F(5,8,i.data.item==null?null:i.data.item.balance)),n(4),l(t("owners")),n(),b(i.data.item==null?null:i.data.item.persons),n(4),l(t("about")),n(),y(i.data.item!=null&&i.data.item.accountTypeName?14:-1),n(),y(i.data.item!=null&&i.data.item.createDate?15:-1),n(),y(i.data.item!=null&&i.data.item.closeDate?16:-1),n(),y(i.data.item!=null&&i.data.item.note?17:-1)}}function Ci(e,o){if(e&1&&(r(0,"msk-alert",23),c(1),a()),e&2){let t=d(2);p("@shake",void 0),n(),C(" ",t.alert().message," ")}}function Si(e,o){if(e&1&&(r(0,"mat-option",26),c(1),a()),e&2){let t=o.$implicit;p("value",t.id),n(),l(t.name)}}function yi(e,o){if(e&1&&(r(0,"mat-option",26),c(1),a()),e&2){let t=o.$implicit;p("value",t.id),n(),l(t.name)}}function Di(e,o){if(e&1&&(r(0,"form",22),f(1,Ci,2,2,"msk-alert",23),r(2,"div",24)(3,"mat-form-field")(4,"mat-label"),c(5),a(),r(6,"mat-select",25),T(7,Si,2,2,"mat-option",26,ht),A(9,"async"),a(),r(10,"mat-error"),c(11),a()(),r(12,"mat-form-field")(13,"mat-label"),c(14),a(),h(15,"input",27)(16,"mat-datepicker-toggle",28)(17,"mat-datepicker",null,4),r(19,"mat-error"),c(20),a()()(),r(21,"mat-form-field")(22,"mat-label"),c(23),a(),r(24,"mat-select",29),zt(25),A(26,"async"),r(27,"mat-select-trigger"),c(28),a(),T(29,yi,2,2,"mat-option",26,ht),a(),r(31,"mat-error"),c(32),a()(),r(33,"mat-form-field")(34,"mat-label"),c(35),a(),h(36,"input",30),r(37,"mat-error"),c(38),a()(),r(39,"mat-form-field"),h(40,"textarea",31),r(41,"mat-error"),c(42),a()()()),e&2){let t=o.t,i=w(18),s=d();p("formGroup",s.form),n(),y(s.alert().show?1:-1),n(4),l(t("accountType")),n(2),b(F(9,16,s.accountTypeList$)),n(4),l(s.formErrors.accountTypeId),n(3),l(t("createDate")),n(),p("matDatepicker",i),n(),p("for",i),n(4),l(s.formErrors.createDate),n(3),l(t("owners"));let u=F(26,18,s.personList$);n(5),l(s.personIdTitles(u)),n(),b(u),n(3),l(s.formErrors.personId),n(3),l(t("initCredit")),n(3),l(s.formErrors.initCredit),n(2),p("placeholder",t("note"))("rows",2),n(2),l(s.formErrors.note)}}var Ge=(()=>{class e{constructor(){this.data=m(Ce),this.dialogRef=m(xe),this._formBuilder=m(ue),this._peopleService=m(ke),this._accountService=m(k),this._translocoService=m(ce),this.formErrors={},this.personList$=this._peopleService.getLookupPersons(),this.accountTypeList$=this._accountService.getLookupAccountTypes(),this.alert=Nt({show:!1,message:""})}ngOnInit(){this.form=this._formBuilder.group({id:[0,E.required],personId:[[],E.required],accountTypeId:["",E.required],initCredit:["",[E.required,E.min(1e3)]],createDate:[new Date,E.required],note:""}),new Be(this.form,this.formErrors,this._translocoService),this.form.patchValue(this.data.item||{}),this.form.get("personId")?.patchValue(this.data.item?.persons.map(t=>t.id)||[])}personIdTitles(t){let i=this.form.get("personId")?.value;return t?.find(u=>u.id===i[0])?.name+(i.length>1?` (+${i.length-1} ${this._translocoService.translate("other")})`:"")}editMode(){this.data.action="edit",this.form.get("initCredit")?.clearValidators()}saveAndClose(){if(Ve(this.form),this.form.invalid)return;this.form.disable(),this.alert.set({show:!1,message:""}),(this.data.action==="edit"?this._accountService.updateAccount({id:this.form.value.id,personId:this.form.value.personId,note:this.form.value.note}):this._accountService.createAccount(this.form.value)).pipe(x(i=>this.dialogRef.close(i)),I(i=>(this.form.enable(),this.alert.set({show:!0,message:i.error.message}),Oe(i.error.errors,this.form),Mt))).subscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["main-people-details"]],standalone:!0,features:[v],decls:5,vars:1,consts:[["viewTemplate",""],["formTemplate",""],["trailing",""],["primaryAction",""],["picker",""],[3,"title","hasAction","primaryAction","trailing",4,"transloco","translocoRead"],[3,"title","hasAction","primaryAction","trailing"],["msk-dialog-content","",3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-icon-button","",3,"click"],[1,"mat-icon-rtl-mirror","text-current"],["mat-button","",3,"click","disabled","mskSpinner"],[4,"transloco"],[1,"mb-2","flex","flex-col","gap-4","p-4"],[1,"text-on-surface-variant","text-label-medium"],[1,"text-on-surface","text-title-large"],[1,"msk-mat-card-filled","mb-2","p-4"],[1,"text-secondary","mb-2","font-bold"],["matRipple","",1,"msk-list-item","-mx-4","cursor-pointer"],[1,"msk-list-item","-mx-4"],[1,"msk-list-item-icon"],[3,"name"],[1,"msk-list-item-content"],[1,"flex","flex-auto","flex-col","gap-y-2",3,"formGroup"],["appearance","outline","type","error",1,"mb-4"],[1,"flex","flex-col","gap-x-4","sm:flex-row","[&>*]:flex-1"],["formControlName","accountTypeId"],[3,"value"],["matInput","","formControlName","createDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","personId","multiple",""],["matInput","","formControlName","initCredit","autocomplete","off"],["matInput","","formControlName","note",3,"placeholder","rows"]],template:function(i,s){i&1&&f(0,ui,6,10,"msk-dialog",5)(1,xi,18,10,"ng-template",null,0,N)(3,Di,43,20,"ng-template",null,1,N),i&2&&p("translocoRead","accounts.details")},dependencies:[Ht,P,Wt,it,Z,K,Y,X,nt,tt,et,$,R,at,De,ie,Zt,te,ee,Q,q,H,oe,re,he,fe,_e,Xt,J,U,$e,we,Fe,Re,ye,L,ge,rt,Le,Ae,Ne],encapsulation:2,data:{animation:ot},changeDetection:0})}}return e})();var Dt=(()=>{class e{constructor(){this._router=m(G),this._injector=m($t),this._matDialog=m(Se),this._destroyRef=m(V),this._activatedRoute=m(Kt),this._mskLayoutConfigService=m(ne)}ngOnInit(){let t=this._activatedRoute.snapshot.url[1].path;this._mskLayoutConfigService.config$.pipe(M(this._destroyRef),_(i=>this.layoutDirection=Ut(i.locale))).subscribe(),this._matDialog.open(Ge,{autoFocus:t!=="view",disableClose:t!=="view",direction:this.layoutDirection,data:{action:t,item:this._activatedRoute.snapshot.data.card}}).afterClosed().subscribe(i=>{t==="new"&&i!="cancelled"&&this._injector.get(lt).getAccounts().subscribe(),this._router.navigate([this._activatedRoute.snapshot.url.map(()=>"../").join("")],{relativeTo:this._activatedRoute})})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["main-accounts-card"]],standalone:!0,features:[v],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}}return e})();var Ai=At({"./i18n/en.json":()=>import("./chunk-PBUAIFGO.js"),"./i18n/fa.json":()=>import("./chunk-I2HBXKO4.js")});var Mi=(e,o)=>{let t=m(k),i=m(G);return t.getAccountWithBalance(e.paramMap.get("id")??0).pipe(I(s=>{console.error(s);let u=o.url.split("/").slice(0,-1).join("/");return i.navigateByUrl(u),kt(()=>new Error(s.message))}))},Ao=[{path:"",component:je,providers:[se({scope:"accounts",loader:le((e,o)=>Ai(`./${o}/${e}.json`))})],children:[{path:"",component:lt,resolve:{persons:()=>m(k).getAccounts()},children:[{path:"card/new",component:Dt,resolve:{}},{path:"card/view/:id",component:Dt,resolve:{card:Mi}}]}]}];export{je as AccountsComponent,Ao as routes};
