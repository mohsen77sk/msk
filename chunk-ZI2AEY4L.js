import{H as yn,U as Cn,c as Na,e as La,g as Ya,h as nn,i as Ht,m as vn,n as Zt,o as Xt,q as Jt,r as ei,s as ti,t as Re,u as ii,v as ze,va as wn,w as bn,x as z,xa as nt,y as je,ya as Sn}from"./chunk-TSRCRMVR.js";import{a as kn,b as En,c as ai,f as Mn,g as An,h as In}from"./chunk-WWTHQF7V.js";import{b as fn}from"./chunk-KYTRILY4.js";import{Aa as mn,Ba as Kt,Ca as un,D as Ae,Da as Wt,E as Ka,Ea as Ut,F as Ot,G as Pi,Ha as Qt,Ia as _n,J as Ri,K as Wa,Ka as gn,L as Ua,La as He,N as Qa,O as Nt,P as Lt,Q as Ie,R as Yt,S as ce,T as Za,U as ne,W as re,X as oe,Z as en,a as ke,aa as tn,ba as Bt,ca as an,d as Oa,da as rn,ea as on,fa as sn,g as Tt,ga as ln,h as Ba,i as it,ia as dn,j as R,ka as cn,l as Ha,m as za,ma as pn,n as ja,na as zt,o as ge,oa as hn,pa as Z,q as Ga,r as Ee,ra as jt,s as Vt,sa as Gt,ta as Be,v as $a,va as Pe,x as qa,xa as $t,y as Ft,ya as at,z as Me,za as qt}from"./chunk-P5B4DSWA.js";import{a as xn}from"./chunk-5YKRFSCM.js";import{e as Va,f as Pt,g as Rt,h as Fa}from"./chunk-CSPCB3NB.js";import{b as Ta,e as xe,g as Xa,h as fe,j as Ja,l as Dn}from"./chunk-QZ4KBARH.js";import{$b as le,A as X,Aa as Ct,Ab as wa,Ac as tt,Bb as Ai,Bc as Aa,C as gt,Cc as _e,Da as f,Db as D,E as De,Ea as ye,Ha as B,I as ft,Ia as pe,Ic as q,Ka as A,Kb as O,Kc as V,L as _a,Lb as _,Lc as Ia,Mb as St,Nb as H,Oc as Pa,Pb as Je,Qa as ki,Rb as S,Sb as Sa,Tb as he,Ub as me,Uc as Se,Va as Ze,Vb as c,W as Ve,Wb as p,X as vt,Xb as y,Y as Dt,Yb as xa,Zb as ka,_ as U,_b as ue,a as I,aa as Si,ac as Ea,ba as Y,bc as k,bd as N,c as wi,ca as Fe,cc as u,cd as It,dc as Le,dd as Ra,ea as J,ec as Ye,f as C,fb as Da,fc as Ma,g as ut,ga,gb as ba,gc as de,h as pa,ha as s,hc as te,i as ha,ia as bt,ic as ie,j as Qe,ja as yt,jb as l,kc as et,l as _t,lc as xt,m as ma,mb as Ei,mc as ae,nb as Mi,nc as m,ob as ya,oc as b,pb as Ca,pc as x,q as T,qb as wt,qc as Ii,ra as Q,rb as Xe,rc as kt,sa as E,sc as Et,ta as M,tc as Mt,ua as Oe,va as xi,vc as Ce,wa as fa,wc as At,xb as w,xc as P,ya as be,yb as Ne,z as ua,za as va,zb as ee,zc as we}from"./chunk-LCKJWARP.js";import{a as la,b as da,c as ca}from"./chunk-NWJ5J3BN.js";var Pn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people"]],decls:1,vars:0,template:function(t,i){t&1&&y(0,"router-outlet")},dependencies:[Pt],encapsulation:2,changeDetection:0})}}return n})();var Rn=[10,25,50],rt=class{constructor(a){this.pageIndex=a.page-1,this.pageSize=a.pageSize,this.total=a.total,this.items=a.items}},Tn=new rt({page:0,pageSize:0,total:0,items:[]});var ni="code",ri="asc";var ve=class{constructor(a){this.id=a.id,this.code=a.code,this.firstName=a.firstName,this.lastName=a.lastName,this.nationalCode=a.nationalCode,this.dateOfBirth=a.dateOfBirth?new Date(a.dateOfBirth):void 0,this.gender=a.gender,this.note=a.note,this.isActive=a.isActive}get fullName(){return this.firstName+" "+this.lastName}};var Te=(()=>{class n{constructor(){this._appConfig=s(xn),this._httpClient=s(Ta),this._persons=new ut(Tn)}get persons$(){return this._persons.asObservable()}getPersons(e=1,t=10,i=`${ni} ${ri}`){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/all`,{params:{page:e,pageSize:t,sortBy:i}}).pipe(T(r=>new rt(da(la({},r),{items:r.items.map(o=>new ve(o))}))),U(r=>this._persons.next(r)))}getLookupPersons(){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/lookup`).pipe(T(e=>e))}getPerson(e){return this._httpClient.get(`${this._appConfig.apiEndpoint}/api/person/${e}`).pipe(T(t=>new ve(t)))}createPerson(e){return this._httpClient.post(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(T(t=>new ve(t)))}updatePerson(e){return this._httpClient.put(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(T(t=>new ve(t)),U(t=>{if(this._persons.value){let i=this._persons.value.items.findIndex(r=>r.id===t.id)??0;this._persons.value.items[i]=t,this._persons.next(this._persons.value)}}))}updatePersonStatus(e){return this._httpClient.patch(`${this._appConfig.apiEndpoint}/api/person`,e).pipe(T(t=>new ve(t)),U(t=>{if(this._persons.value){let i=this._persons.value.items.findIndex(r=>r.id===t.id)??0;this._persons.value.items[i]=t,this._persons.next(this._persons.value)}}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vr=new J("MAT_SORT_DEFAULT_OPTIONS"),Vn=(()=>{class n{_defaultOptions;_initializedStream=new pa(1);sortables=new Map;_stateChanges=new C;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new f;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,i=Fr(e.start||this.start,t),r=i.indexOf(this.direction)+1;return r>=i.length&&(r=0),i[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||n)(ya(Vr,8))};static \u0275dir=ee({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",V],disabled:[2,"matSortDisabled","disabled",V]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Q]})}return n})();function Fr(n,a){let e=["asc","desc"];return n=="desc"&&e.reverse(),a||e.push(""),e}var Ti=(()=>{class n{changes=new C;static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Or(n){return n||new Ti}var Nr={provide:Ti,deps:[[new bt,new yt,Ti]],useFactory:Or};var Fn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[Nr],imports:[Lt]})}return n})();function Lr(n,a){if(n&1&&(c(0,"div",0),y(1,"img",2),p()),n&2){let e=u();l(),_("src",e.imageUrl(),ba)}}function Yr(n,a){if(n&1&&(c(0,"div",1)(1,"span",3),m(2),p()()),n&2){let e=u();_("ngClass",e.color),l(2),x(" ",e.label," ")}}var oi=(()=>{class n{constructor(){this.name=B.required(),this.imageUrl=B(),this.size=B("medium"),this._colors=["monochrome","pink","rose","red","orange","yellow","chartreuse","green","teal","cyan","blue","indigo","purple"]}get classList(){return{"size-7":this.size()==="small","text-label-medium":this.size()==="small","size-10":this.size()==="medium","text-title-medium":this.size()==="medium","size-24":this.size()==="big","text-headline-large":this.size()==="big",block:!0}}get label(){return this.name().charAt(0).toUpperCase()}get color(){let e=this.name().split("").reduce((t,i)=>t+i.charCodeAt(0),0);return this._colors[e%this._colors.length]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-avatar"]],hostVars:2,hostBindings:function(t,i){t&2&&Je(i.classList)},inputs:{name:[1,"name"],imageUrl:[1,"imageUrl"],size:[1,"size"]},exportAs:["mskAvatar"],decls:2,vars:1,consts:[[1,"relative","flex","size-full","items-center","justify-center","rounded-full"],[1,"flex","size-full","items-center","justify-center","rounded-full",3,"ngClass"],["alt","avatar",1,"relative","size-full","rounded-full",3,"src"],[1,"font-medium"]],template:function(t,i){t&1&&D(0,Lr,2,1,"div",0)(1,Yr,3,2,"div",1),t&2&&S(i.imageUrl()?0:1)},dependencies:[N],encapsulation:2,changeDetection:0})}}return n})();var Br=n=>[n];function Hr(n,a){if(n&1&&(xa(0),c(1,"mat-icon",1),m(2),p(),ka()),n&2){let e=a.$implicit,t=u();l(),_("ngClass",P(3,Br,t.value()?"text-green-400":"text-red-400"))("matTooltip",t.value()?e("active"):e("inactive")),l(),x(" ",t.value()?"check_circle":"cancel"," ")}}var On=(()=>{class n{constructor(){this.value=B(!0,{transform:V})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-person-status"]],inputs:{value:[1,"value"]},decls:1,vars:0,consts:[[4,"transloco"],[1,"text-green-400",3,"ngClass","matTooltip"]],template:function(t,i){t&1&&D(0,Hr,3,5,"ng-container",0)},dependencies:[N,oe,re,Ht,nn,fe],styles:[`main-person-status{display:flex}
`],encapsulation:2,changeDetection:0})}}return n})();var jr=()=>["card","new"],Gr=n=>({"mat-mdc-extended-fab-collapses":n}),$r=n=>["card","view",n],qr=(n,a)=>a.id;function Kr(n,a){if(n&1&&(c(0,"div",11)(1,"form",12)(2,"div",13)(3,"mat-icon"),m(4,"search"),p(),y(5,"input",14),p()()()),n&2){let e=a.$implicit,t=u();l(),_("formGroup",t.filterForm),l(4),_("placeholder",e("people.search"))}}function Wr(n,a){if(n&1&&(c(0,"div",4)(1,"div",15),y(2,"msk-avatar",16),p(),c(3,"div",17)(4,"div",18),m(5),p(),c(6,"div",18)(7,"span"),m(8),p()()(),c(9,"div",19),y(10,"main-person-status",20),p()()),n&2){let e=a.$implicit;_("routerLink",P(5,$r,e.id)),l(2),_("name",e.fullName),l(3),b(e.fullName),l(3),x("#",e.code,""),l(2),_("value",e.isActive)}}function Ur(n,a){if(n&1&&(c(0,"div",5),m(1),p()),n&2){let e=a.$implicit;l(),x(" ",e("people.empty-list")," ")}}function Qr(n,a){n&1&&D(0,Ur,2,1,"div",21)}function Zr(n,a){if(n&1&&(c(0,"span"),m(1),p()),n&2){let e=a.$implicit;l(),b(e("new"))}}var li=(()=>{class n{constructor(){this._destroyRef=s(Ct),this._peopleService=s(Te),this._gridContent=Xe.required(Ae),this._paginator=Xe.required(nt),this._sort=new Vn,this.isLoading=A(!1),this.isFabCollapses=A(!1),this.lastOffsetScroll=0,this.pageSizeOptions=Rn,this.filterForm=new Be({search:new Pe(""),isActive:new Pe(null)})}ngOnInit(){this.persons$=this._peopleService.persons$}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:ni,start:ri,disableClear:!0}),this._sort.sortChange.pipe(xe(this._destroyRef),U(()=>this._paginator().pageIndex=0)).subscribe(),X(this._sort.sortChange,this._paginator().page).pipe(xe(this._destroyRef),vt(()=>this.getPersons())).subscribe()),this._gridContent().elementScrolled().pipe(xe(this._destroyRef),T(e=>e.target.scrollTop||0),U(e=>{let t=e>10?this.lastOffsetScroll<e:!1;this.isFabCollapses()!==t&&this.isFabCollapses.set(t),this.lastOffsetScroll=e})).subscribe()}getPersons(e=!1){return this.isLoading.set(!0),this._peopleService.getPersons(e?1:this._paginator().pageIndex+1,this._paginator().pageSize,`${this._sort.active} ${this._sort.direction}`).pipe(De(t=>Qe),_a(()=>{this.isLoading.set(!1)}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-list"]],viewQuery:function(t,i){t&1&&(et(i._gridContent,Ae,5),et(i._paginator,nt,5)),t&2&&xt(2)},decls:19,vars:21,consts:[[1,"page-layout","grid-scroll"],["class","header",4,"transloco"],[1,"content"],["cdkScrollable","",1,"content-grid"],["matRipple","",1,"content-grid-item","tow-line",3,"routerLink"],[1,"text-secondary","text-title-medium","flex","flex-1","items-center","justify-center","p-8","text-center"],[1,"content-fab-container"],["mat-fab","","extended","",3,"routerLink","ngClass"],[4,"transloco"],[1,"content-paginator",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","disabled"],[1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0"],[1,"header"],[1,"flex","w-full","items-center",3,"formGroup"],[1,"msk-mat-search-bar","w-full"],["formControlName","search","autocomplete","off",3,"placeholder"],[1,"content-grid-item-avatar"],[3,"name"],[1,"content-grid-item-content"],[1,"truncate"],[1,"content-grid-item-end"],[3,"value"],["class","text-secondary text-title-medium flex flex-1 items-center justify-center p-8 text-center",4,"transloco"]],template:function(t,i){if(t&1&&(c(0,"div",0),D(1,Kr,6,2,"div",1),c(2,"div",2)(3,"div",3),he(4,Wr,11,7,"div",4,qr,!1,Qr,1,0,"div",5),we(7,"async"),p(),c(8,"div",6)(9,"button",7)(10,"mat-icon"),m(11,"add"),p(),D(12,Zr,2,1,"span",8),p()(),y(13,"mat-paginator",9),we(14,"async"),we(15,"async"),we(16,"async"),p()(),c(17,"div",10),y(18,"router-outlet"),p()),t&2){let r,o,d,h;l(4),me((r=tt(7,10,i.persons$))==null?null:r.items),l(5),_("routerLink",At(18,jr))("ngClass",P(19,Gr,i.isFabCollapses()))("@zoomIn",void 0),l(4),_("length",(o=tt(14,12,i.persons$))==null?null:o.total)("pageIndex",(d=tt(15,14,i.persons$))==null?null:d.pageIndex)("pageSize",(h=tt(16,16,i.persons$))==null?null:h.pageSize)("pageSizeOptions",i.pageSizeOptions)("showFirstLastButtons",!0)("disabled",i.isLoading())}},dependencies:[Ra,N,Wt,$t,zt,jt,Gt,Ut,at,qt,Fa,Pt,Ae,oe,re,vn,ai,Yt,Nt,ne,Za,Qt,Fn,Sn,nt,fe,oi,On],encapsulation:2,data:{animation:He},changeDetection:0})}}return n})();var Jr=["mat-calendar-body",""];function eo(n,a){return this._trackRow(a)}var $n=(n,a)=>a.id;function to(n,a){if(n&1&&(c(0,"tr",0)(1,"td",3),m(2),p()()),n&2){let e=u();l(),St("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),O("colspan",e.numCols),l(),x(" ",e.label," ")}}function io(n,a){if(n&1&&(c(0,"td",3),m(1),p()),n&2){let e=u(2);St("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),O("colspan",e._firstRowOffset),l(),x(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function ao(n,a){if(n&1){let e=le();c(0,"td",6)(1,"button",7),k("click",function(i){let r=E(e).$implicit,o=u(2);return M(o._cellClicked(r,i))})("focus",function(i){let r=E(e).$implicit,o=u(2);return M(o._emitActiveDateChange(r,i))}),c(2,"span",8),m(3),p(),y(4,"span",9),p()()}if(n&2){let e=a.$implicit,t=a.$index,i=u().$index,r=u();St("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),O("data-mat-row",i)("data-mat-col",t),l(),H("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(i,t))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),_("ngClass",e.cssClasses)("tabindex",r._isActiveCell(i,t)?0:-1),O("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),l(),H("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),l(),x(" ",e.displayValue," ")}}function no(n,a){if(n&1&&(c(0,"tr",1),D(1,io,2,6,"td",4),he(2,ao,5,48,"td",5,$n),p()),n&2){let e=a.$implicit,t=a.$index,i=u();l(),S(t===0&&i._firstRowOffset?1:-1),l(),me(e)}}function ro(n,a){if(n&1&&(c(0,"th",2)(1,"span",6),m(2),p(),c(3,"span",3),m(4),p()()),n&2){let e=a.$implicit;l(2),b(e.long),l(2),b(e.narrow)}}var oo=["*"];function so(n,a){}function lo(n,a){if(n&1){let e=le();c(0,"mat-month-view",4),Mt("activeDateChange",function(i){E(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),M(i)}),k("_userSelection",function(i){E(e);let r=u();return M(r._dateSelected(i))})("dragStarted",function(i){E(e);let r=u();return M(r._dragStarted(i))})("dragEnded",function(i){E(e);let r=u();return M(r._dragEnded(i))}),p()}if(n&2){let e=u();kt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function co(n,a){if(n&1){let e=le();c(0,"mat-year-view",5),Mt("activeDateChange",function(i){E(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),M(i)}),k("monthSelected",function(i){E(e);let r=u();return M(r._monthSelectedInYearView(i))})("selectedChange",function(i){E(e);let r=u();return M(r._goToDateInView(i,"month"))}),p()}if(n&2){let e=u();kt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function po(n,a){if(n&1){let e=le();c(0,"mat-multi-year-view",6),Mt("activeDateChange",function(i){E(e);let r=u();return Et(r.activeDate,i)||(r.activeDate=i),M(i)}),k("yearSelected",function(i){E(e);let r=u();return M(r._yearSelectedInMultiYearView(i))})("selectedChange",function(i){E(e);let r=u();return M(r._goToDateInView(i,"year"))}),p()}if(n&2){let e=u();kt("activeDate",e.activeDate),_("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function ho(n,a){}var mo=["button"],uo=[[["","matDatepickerToggleIcon",""]]],_o=["[matDatepickerToggleIcon]"];function go(n,a){n&1&&(Oe(),c(0,"svg",2),y(1,"path",3),p())}var We=(()=>{class n{changes=new C;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fo=0,lt=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=fo++;constructor(a,e,t,i,r={},o=a,d){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=r,this.compareValue=o,this.rawValue=d}},vo={passive:!1,capture:!0},di={passive:!0,capture:!0},Ln={passive:!0},Ke=(()=>{class n{_elementRef=s(pe);_ngZone=s(ye);_platform=s(Oa);_intl=s(We);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new f;previewChange=new f;activeDateChange=new f;dragStarted=new f;dragEnded=new f;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=s(be);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=s(Mi),t=s(Ft);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),s(Ee).load(Ua),this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement,r=[R(e,i,"touchmove",this._touchmoveHandler,vo),R(e,i,"mouseenter",this._enterHandler,di),R(e,i,"focus",this._enterHandler,di),R(e,i,"mouseleave",this._leaveHandler,di),R(e,i,"blur",this._leaveHandler,di),R(e,i,"mousedown",this._mousedownHandler,Ln),R(e,i,"touchstart",this._mousedownHandler,Ln)];this._platform.isBrowser&&r.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:r}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?r-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/r}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/r}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){Ze(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Ni(e,this.startValue,this.endValue)}_isRangeEnd(e){return Li(e,this.startValue,this.endValue)}_isInRange(e){return Yi(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Ni(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[t][i-1];if(!r){let o=this.rows[t-1];r=o&&o[o.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[t][i+1];if(!r){let o=this.rows[t+1];r=o&&o[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return Li(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Yi(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Ni(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Li(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Yi(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=Yn(e),i=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),Oi(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=Oi(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let i=this._getCellFromElement(t);this.dragEnded.emit({value:i?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=Yn(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=Oi(e);if(t){let i=t.getAttribute("data-mat-row"),r=t.getAttribute("data-mat-col");if(i&&r)return this.rows[parseInt(i)][parseInt(r)]}return null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Q],attrs:Jr,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(D(0,to,3,6,"tr",0),he(1,no,4,1,"tr",1,eo,!0),c(3,"span",2),m(4),p(),c(5,"span",2),m(6),p(),c(7,"span",2),m(8),p(),c(9,"span",2),m(10),p()),t&2&&(S(i._firstRowOffset<i.labelMinRequiredCells?0:-1),l(),me(i.rows),l(2),_("id",i._startDateLabelId),l(),x(" ",i.startDateAccessibleName,`
`),l(),_("id",i._endDateLabelId),l(),x(" ",i.endDateAccessibleName,`
`),l(),_("id",i._comparisonStartDateLabelId),l(),Ii(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,`
`),l(),_("id",i._comparisonEndDateLabelId),l(),Ii(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,`
`))},dependencies:[N],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return n})();function Fi(n){return n?.nodeName==="TD"}function Oi(n){let a;return Fi(n)?a=n:Fi(n.parentNode)?a=n.parentNode:Fi(n.parentNode?.parentNode)&&(a=n.parentNode.parentNode),a?.getAttribute("data-mat-row")!=null?a:null}function Ni(n,a,e){return e!==null&&a!==e&&n<e&&n===a}function Li(n,a,e){return a!==null&&a!==e&&n>=a&&n===e}function Yi(n,a,e,t){return t&&a!==null&&e!==null&&a!==e&&n>=a&&n<=e}function Yn(n){let a=n.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}var K=class{start;end;_disableStructuralEquivalency;constructor(a,e){this.start=a,this.end=e}},dt=(()=>{class n{selection;_adapter;_selectionChanged=new C;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){Ca()};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Do=(()=>{class n extends dt{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||n)(ga(z))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function bo(n,a){return n||new Do(a)}var qn={provide:dt,deps:[[new bt,new yt,dt],z],useFactory:bo};var Kn=new J("MAT_DATE_RANGE_SELECTION_STRATEGY");var Bi=7,yo=0,Bn=(()=>{class n{_changeDetectorRef=s(q);_dateFormats=s(je,{optional:!0});_dateAdapter=s(z,{optional:!0});_dir=s(ke,{optional:!0});_rangeStrategy=s(Kn,{optional:!0});_rerenderSubscription=I.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof K?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new f;_userSelection=new f;dragStarted=new f;dragEnded=new f;activeDateChange=new f;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){s(Ee).load(Vt),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),r,o;this._selected instanceof K?(r=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):r=o=this._getDateInCurrentMonth(this._selected),(r!==t||o!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Me(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Bi+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Bi,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,r=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&i){let o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),r=this._dateAdapter.getDayOfWeekNames("long").map((o,d)=>({long:o,narrow:t[d],id:yo++}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,r=this._firstWeekOffset;i<e;i++,r++){r==Bi&&(this._weeks.push([]),r=0);let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),d=this._shouldEnableDate(o),h=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new lt(i+1,t[i],h,d,g,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(t,i,r).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof K?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&de(Ke,5),t&2){let r;te(r=ie())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Q],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),he(3,ro,5,2,"th",2,$n),p(),c(5,"tr",3),y(6,"th",4),p()(),c(7,"tbody",5),k("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("dragStarted",function(o){return i.dragStarted.emit(o)})("dragEnded",function(o){return i._dragEnded(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),p()()),t&2&&(l(3),me(i._weekdays),l(4),_("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[Ke],encapsulation:2,changeDetection:0})}return n})(),G=24,Hi=4,Hn=(()=>{class n{_changeDetectorRef=s(q);_dateAdapter=s(z,{optional:!0});_dir=s(ke,{optional:!0});_rerenderSubscription=I.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Wn(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof K?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new f;yearSelected=new f;activeDateChange=new f;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,r=[];i<G;i++)r.push(t+i),r.length==Hi&&(this._years.push(r.map(o=>this._createCellForYear(o))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),r=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Hi);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Hi);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,G-ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-G*10:-G);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?G*10:G);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ot(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),r=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new lt(e,i,i,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof K){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&de(Ke,5),t&2){let r;te(r=ie())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),p()(),c(4,"tbody",3),k("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),p()()),t&2&&(l(4),_("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Ke],encapsulation:2,changeDetection:0})}return n})();function Wn(n,a,e,t,i){let r=n.getYear(a),o=n.getYear(e),d=Un(n,t,i);return Math.floor((r-d)/G)===Math.floor((o-d)/G)}function ot(n,a,e,t){let i=n.getYear(a);return Co(i-Un(n,e,t),G)}function Un(n,a,e){let t=0;return e?t=n.getYear(e)-G+1:a&&(t=n.getYear(a)),t}function Co(n,a){return(n%a+a)%a}var zn=(()=>{class n{_changeDetectorRef=s(q);_dateFormats=s(je,{optional:!0});_dateAdapter=s(z,{optional:!0});_dir=s(ke,{optional:!0});_rerenderSubscription=I.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof K?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new f;monthSelected=new f;activeDateChange=new f;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ve(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let r=this._getDateFromMonth(t);this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(i,"year"):void 0;return new lt(e,t.toLocaleUpperCase(),r,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let r=i;this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>r}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<r}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof K?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&de(Ke,5),t&2){let r;te(r=ie())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),p()(),c(4,"tbody",3),k("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),p()()),t&2&&(l(4),_("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Ke],encapsulation:2,changeDetection:0})}return n})(),Qn=(()=>{class n{_intl=s(We);calendar=s(zi);_dateAdapter=s(z,{optional:!0});_dateFormats=s(je,{optional:!0});constructor(){s(Ee).load(Vt);let e=s(q);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-G)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:G)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Wn(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-ot(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+G-1,r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[r,o]}_periodButtonLabelId=s(Ft).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:oo,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,i){t&1&&(Le(),c(0,"div",0)(1,"div",1)(2,"span",2),m(3),p(),c(4,"button",3),k("click",function(){return i.currentPeriodClicked()}),c(5,"span",4),m(6),p(),Oe(),c(7,"svg",5),y(8,"polygon",6),p()(),xi(),y(9,"div",7),Ye(10),c(11,"button",8),k("click",function(){return i.previousClicked()}),Oe(),c(12,"svg",9),y(13,"path",10),p()(),xi(),c(14,"button",11),k("click",function(){return i.nextClicked()}),Oe(),c(15,"svg",9),y(16,"path",12),p()()()()),t&2&&(l(2),_("id",i._periodButtonLabelId),l(),b(i.periodButtonDescription),l(),O("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),l(2),b(i.periodButtonText),l(),H("mat-calendar-invert",i.calendar.currentView!=="month"),l(4),_("disabled",!i.previousEnabled()),O("aria-label",i.prevButtonLabel),l(3),_("disabled",!i.nextEnabled()),O("aria-label",i.nextButtonLabel))},dependencies:[ce,Ie],encapsulation:2,changeDetection:0})}return n})(),zi=(()=>{class n{_dateAdapter=s(z,{optional:!0});_dateFormats=s(je,{optional:!0});_changeDetectorRef=s(q);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof K?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new f;yearSelected=new f;monthSelected=new f;viewChanged=new f(!0);_userSelection=new f;_userDragDrop=new f;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}_currentView;_activeDrag=null;stateChanges=new C;constructor(){this._intlChanges=s(We).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Pi(this.headerComponent||Qn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=t||i||e.dateFilter;if(r&&!r.firstChange){let o=this._getCurrentViewComponent();o&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof K||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(de(Bn,5),de(zn,5),de(Hn,5)),t&2){let r;te(r=ie())&&(i.monthView=r.first),te(r=ie())&&(i.yearView=r.first),te(r=ie())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ce([qn]),Q],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(D(0,so,0,0,"ng-template",0),c(1,"div",1),D(2,lo,1,11,"mat-month-view",2)(3,co,1,6,"mat-year-view",3)(4,po,1,6,"mat-multi-year-view",3),p()),t&2){let r;_("cdkPortalOutlet",i._calendarHeaderPortal),l(2),S((r=i.currentView)==="month"?2:r==="year"?3:r==="multi-year"?4:-1)}},dependencies:[Ri,Ga,Bn,zn,Hn],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Zn=new J("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=s(Bt);return()=>n.scrollStrategies.reposition()}});function wo(n){return()=>n.scrollStrategies.reposition()}var So={provide:Zn,deps:[Bt],useFactory:wo},Xn=(()=>{class n{_elementRef=s(pe);_animationsDisabled=s(ki,{optional:!0})==="NoopAnimations";_changeDetectorRef=s(q);_globalModel=s(dt);_dateAdapter=s(z);_ngZone=s(ye);_rangeSelectionStrategy=s(Kn,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new C;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(s(Ee).load(Vt),this._closeButtonText=s(We).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=s(Mi);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,r=t instanceof K;if(r&&this._rangeSelectionStrategy){let o=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(o,this)}else i&&(r||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&de(zi,5),t&2){let r;te(r=ie())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,i){t&2&&(Je(i.color?"mat-"+i.color:""),H("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(c(0,"div",0)(1,"mat-calendar",1),k("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)})("_userDragDrop",function(o){return i._handleUserDragDrop(o)}),p(),D(2,ho,0,0,"ng-template",2),c(3,"button",3),k("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),m(4),p()()),t&2){let r;H("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),O("aria-modal",!0)("aria-labelledby",(r=i._dialogLabelId)!==null&&r!==void 0?r:void 0),l(),Je(i.datepicker.panelClass),_("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),l(),_("cdkPortalOutlet",i._actionsPortal),l(),H("cdk-visually-hidden",!i._closeButtonFocused),_("color",i.color||"primary"),l(),b(i._closeButtonText)}},dependencies:[$a,zi,Ri,ce],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return n})(),jn=(()=>{class n{_overlay=s(Bt);_viewContainerRef=s(wt);_dateAdapter=s(z,{optional:!0});_dir=s(ke,{optional:!0});_model=s(dt);_scrollStrategy=s(Zn);_inputStateChanges=I.EMPTY;_document=s(Se);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new f;monthSelected=new f;viewChanged=new f(!0);dateClass;openedStream=new f;closedStream=new f;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Qa(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=s(Ft).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new C;_injector=s(be);_changeDetectorRef=s(q);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let i=this._overlayRef.getConfig().positionStrategy;i instanceof tn&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Ba(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:i,location:r}=this._componentRef;i._animationDone.pipe(ft(1)).subscribe(()=>{let o=this._document.activeElement;e&&(!o||o===this._document.activeElement||r.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new Pi(Xn,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new en({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(i).subscribe(r=>{r&&r.preventDefault(),this.close()}),i.keydownEvents().subscribe(r=>{let o=r.keyCode;(o===38||o===40||o===37||o===39||o===33||o===34)&&r.preventDefault()}),this._componentRef=i.attach(t),this._forwardContentValues(this._componentRef.instance),e||Ze(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",i=t==="start"?"end":"start",r=this.yPosition==="above"?"bottom":"top",o=r==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:o,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:r},{originX:i,originY:r,overlayX:i,overlayY:o}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return X(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(gt(i=>i.keyCode===27&&!Me(i)||this.datepickerInput&&Me(i,"altKey")&&i.keyCode===38&&t.every(r=>!Me(i,r)))))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",V],disabled:[2,"disabled","disabled",V],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",V],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",V]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Q]})}return n})(),Jn=(()=>{class n extends jn{static \u0275fac=(()=>{let e;return function(i){return(e||(e=fa(n)))(i||n)}})();static \u0275cmp=w({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ce([qn,{provide:jn,useExisting:n}]),Ai],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}return n})(),Ge=class{target;targetElement;value;constructor(a,e){this.target=a,this.targetElement=e,this.value=this.target.value}},xo=(()=>{class n{_elementRef=s(pe);_dateAdapter=s(z,{optional:!0});_dateFormats=s(je,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new f;dateInput=new f;stateChanges=new C;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=I.EMPTY;_localeSubscription=I.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let i=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new Ge(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ge(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){ko(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Me(e,"altKey")&&e.keyCode===40&&t.every(r=>!Me(e,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=this._lastValueValid,i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);let r=!this._dateAdapter.sameDate(i,this.value);!i||r?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(i),this.dateInput.emit(new Ge(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ge(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",V]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Q]})}return n})();function ko(n,a){let e=Object.keys(n);for(let t of e){let{previousValue:i,currentValue:r}=n[t];if(a.isDateInstance(i)&&a.isDateInstance(r)){if(!a.sameDate(i,r))return!0}else return!0}return!1}var Eo={provide:pn,useExisting:Si(()=>ui),multi:!0},Mo={provide:hn,useExisting:Si(()=>ui),multi:!0},ui=(()=>{class n extends xo{_formField=s(dn,{optional:!0});_closedSubscription=I.EMPTY;_openedSubscription=I.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=A(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Z.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){t&1&&k("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),t&2&&(Ea("disabled",i.disabled),O("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ce([Eo,Mo,{provide:kn,useExisting:n}]),Ai]})}return n})(),Ao=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),$i=(()=>{class n{_intl=s(We);_changeDetectorRef=s(q);_stateChanges=I.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=s(new va("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:_t(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:_t(),i=this.datepicker?X(this.datepicker.openedStream,this.datepicker.closedStream):_t();this._stateChanges.unsubscribe(),this._stateChanges=X(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(t&1&&Ma(r,Ao,5),t&2){let o;te(o=ie())&&(i._customIcon=o.first)}},viewQuery:function(t,i){if(t&1&&de(mo,5),t&2){let r;te(r=ie())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&k("click",function(o){return i._open(o)}),t&2&&(O("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),H("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",V],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Q],ngContentSelectors:_o,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(Le(uo),c(0,"button",1,0),D(2,go,2,0,":svg:svg",2),Ye(3),p()),t&2&&(_("disabled",i.disabled)("disableRipple",i.disableRipple),O("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex)("aria-expanded",i.datepicker?i.datepicker.opened:null),l(2),S(i._customIcon?-1:2))},dependencies:[Ie],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return n})();var er=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[We,So],imports:[ne,an,qa,Wa,Lt,Xn,$i,Qn,Ot]})}return n})();function ur(n){let a=n.cloneNode(!0),e=a.querySelectorAll("[id]"),t=n.nodeName.toLowerCase();a.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return t==="canvas"?ar(n,a):(t==="input"||t==="select"||t==="textarea")&&ir(n,a),tr("canvas",n,a,ar),tr("input, textarea, select",n,a,ir),a}function tr(n,a,e,t){let i=a.querySelectorAll(n);if(i.length){let r=e.querySelectorAll(n);for(let o=0;o<i.length;o++)t(i[o],r[o])}}var Po=0;function ir(n,a){a.type!=="file"&&(a.value=n.value),a.type==="radio"&&a.name&&(a.name=`mat-clone-${a.name}-${Po++}`)}function ar(n,a){let e=a.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function ea(n){let a=n.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y}}function Wi(n,a,e){let{top:t,bottom:i,left:r,right:o}=n;return e>=t&&e<=i&&a>=r&&a<=o}function mt(n,a,e){n.top+=a,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function nr(n,a,e,t){let{top:i,right:r,bottom:o,left:d,width:h,height:g}=n,v=h*a,L=g*a;return t>i-L&&t<o+L&&e>d-v&&e<r+v}var _i=class{_document;positions=new Map;constructor(a){this._document=a}clear(){this.positions.clear()}cache(a){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),a.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:ea(e)})})}handleScroll(a){let e=it(a),t=this.positions.get(e);if(!t)return null;let i=t.scrollPosition,r,o;if(e===this._document){let g=this.getViewportScrollPosition();r=g.top,o=g.left}else r=e.scrollTop,o=e.scrollLeft;let d=i.top-r,h=i.left-o;return this.positions.forEach((g,v)=>{g.clientRect&&e!==v&&e.contains(v)&&mt(g.clientRect,d,h)}),i.top=r,i.left=o,{top:d,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function _r(n,a){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===a.ELEMENT_NODE)return e[0];let t=a.createElement("div");return e.forEach(i=>t.appendChild(i)),t}function ta(n,a,e){for(let t in a)if(a.hasOwnProperty(t)){let i=a[t];i?n.setProperty(t,i,e?.has(t)?"important":""):n.removeProperty(t)}return n}function Ue(n,a){let e=a?"":"none";ta(n.style,{"touch-action":a?"":"none","-webkit-user-drag":a?"":"none","-webkit-tap-highlight-color":a?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function rr(n,a,e){ta(n.style,{position:a?"":"fixed",top:a?"":"0",opacity:a?"":"0",left:a?"":"-999em"},e)}function gi(n,a){return a&&a!="none"?n+" "+a:n}function or(n,a){n.style.width=`${a.width}px`,n.style.height=`${a.height}px`,n.style.transform=fi(a.left,a.top)}function fi(n,a){return`translate3d(${Math.round(n)}px, ${Math.round(a)}px, 0)`}function sr(n){let a=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*a}function Ro(n){let a=getComputedStyle(n),e=qi(a,"transition-property"),t=e.find(d=>d==="transform"||d==="all");if(!t)return 0;let i=e.indexOf(t),r=qi(a,"transition-duration"),o=qi(a,"transition-delay");return sr(r[i])+sr(o[i])}function qi(n,a){return n.getPropertyValue(a).split(",").map(t=>t.trim())}var To=new Set(["position"]),Ui=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(a,e,t,i,r,o,d,h,g,v){this._document=a,this._rootElement=e,this._direction=t,this._initialDomRect=i,this._previewTemplate=r,this._previewClass=o,this._pickupPositionOnPage=d,this._initialTransform=h,this._zIndex=g,this._renderer=v}attach(a){this._preview=this._createPreview(),a.appendChild(this._preview),lr(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(a){this._preview.style.transform=a}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(a){this._preview.classList.add(a)}getTransitionDuration(){return Ro(this._preview)}addEventListener(a,e){return this._renderer.listen(this._preview,a,e)}_createPreview(){let a=this._previewTemplate,e=this._previewClass,t=a?a.template:null,i;if(t&&a){let r=a.matchSize?this._initialDomRect:null,o=a.viewContainer.createEmbeddedView(t,a.context);o.detectChanges(),i=_r(o,this._document),this._previewEmbeddedView=o,a.matchSize?or(i,r):i.style.transform=fi(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=ur(this._rootElement),or(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return ta(i.style,{"pointer-events":"none",margin:lr(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},To),Ue(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>i.classList.add(r)):i.classList.add(e)),i}};function lr(n){return"showPopover"in n}var Vo={passive:!0},dr={passive:!1},Fo={passive:!1,capture:!0},Oo=800,cr=new Set(["position"]),Qi=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=A(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new C;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=I.EMPTY;_pointerUpSubscription=I.EMPTY;_scrollSubscription=I.EMPTY;_resizeSubscription=I.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(a){a!==this._disabled&&(this._disabled=a,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ue(e,a)))}_disabled=!1;beforeStarted=new C;started=new C;released=new C;ended=new C;entered=new C;exited=new C;dropped=new C;moved=this._moveEvents;data;constrainPosition;constructor(a,e,t,i,r,o,d){this._config=e,this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._renderer=d,this.withRootElement(a).withParent(e.parentDragRef||null),this._parentPositions=new _i(t),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(a){this._handles=a.map(t=>ge(t)),this._handles.forEach(t=>Ue(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(a){return this._previewTemplate=a,this}withPlaceholderTemplate(a){return this._placeholderTemplate=a,this}withRootElement(a){let e=ge(a);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[R(this._renderer,e,"mousedown",this._pointerDown,dr),R(this._renderer,e,"touchstart",this._pointerDown,Vo),R(this._renderer,e,"dragstart",this._nativeDragStart,dr)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(a){return this._boundaryElement=a?ge(a):null,this._resizeSubscription.unsubscribe(),a&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(a){return this._parentDragRef=a,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(a){!this._disabledHandles.has(a)&&this._handles.indexOf(a)>-1&&(this._disabledHandles.add(a),Ue(a,!0))}enableHandle(a){this._disabledHandles.has(a)&&(this._disabledHandles.delete(a),Ue(a,this.disabled))}withDirection(a){return this._direction=a,this}_withDropContainer(a){this._dropContainer=a}getFreeDragPosition(){let a=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:a.x,y:a.y}}setFreeDragPosition(a){return this._activeTransform={x:0,y:0},this._passiveTransform.x=a.x,this._passiveTransform.y=a.y,this._dropContainer||this._applyRootElementTransform(a.x,a.y),this}withPreviewContainer(a){return this._previewContainer=a,this}_sortFromLastPointerPosition(){let a=this._lastKnownPointerPosition;a&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(a),a)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)};_pointerMove=a=>{let e=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let i=Math.abs(e.x-this._pickupPositionOnPage.x),r=Math.abs(e.y-this._pickupPositionOnPage.y);if(i+r>=this._config.dragStartThreshold){let d=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),h=this._dropContainer;if(!d){this._endDragSequence(a);return}(!h||!h.isDragging()&&!h.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=t.x-i.x+this._passiveTransform.x,r.y=t.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:a,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=a=>{this._endDragSequence(a)};_endDragSequence(a){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:a}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(a),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(a);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:a})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(a){pt(a)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=R(this._renderer,e,"selectstart",No,Fo)}),t){let i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(d,i),this._initialTransform=i.style.transform||"",this._preview=new Ui(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,e)),rr(i,!1,cr),this._document.body.appendChild(r.replaceChild(o,i)),this.started.next({source:this,event:a}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:a}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(a,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),i=pt(e),r=!i&&e.button!==0,o=this._rootElement,d=it(e),h=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+Oo>Date.now(),g=i?za(e):Ha(e);if(d&&d.draggable&&e.type==="mousedown"&&e.preventDefault(),t||r||h||g)return;if(this._handles.length){let se=o.style;this._rootElementTapHighlight=se.webkitTapHighlightColor||"",se.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(se=>this._updateOnScroll(se)),this._boundaryElement&&(this._boundaryRect=ea(this._boundaryElement));let v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,a,e);let L=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:L.x,y:L.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(a){rr(this._rootElement,!0,cr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),i=this._getPointerPositionOnPage(a),r=this._getDragDistance(i),o=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r,dropPoint:i,event:a}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:i,event:a}),e.drop(this,t,this._initialIndex,this._initialContainer,o,r,i,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:a,y:e},{x:t,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,a,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(a,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,a,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,i),this._dropContainer._sortItem(this,a,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(a,e):this._applyPreviewTransform(a-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let a=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(a.left,a.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let i=d=>{(!d||this._preview&&it(d)===this._preview.element&&d.propertyName==="transform")&&(o(),t(),clearTimeout(r))},r=setTimeout(i,e*1.5),o=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let a=this._placeholderTemplate,e=a?a.template:null,t;return e?(this._placeholderRef=a.viewContainer.createEmbeddedView(e,a.context),this._placeholderRef.detectChanges(),t=_r(this._placeholderRef,this._document)):t=ur(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(a,e,t){let i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():a,o=pt(t)?t.targetTouches[0]:t,d=this._getViewportScrollPosition(),h=o.pageX-r.left-d.left,g=o.pageY-r.top-d.top;return{x:r.left-a.left+h,y:r.top-a.top+g}}_getPointerPositionOnPage(a){let e=this._getViewportScrollPosition(),t=pt(a)?a.touches[0]||a.changedTouches[0]||{pageX:0,pageY:0}:a,i=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let d=this._ownerSVGElement.createSVGPoint();return d.x=i,d.y=r,d.matrixTransform(o.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(a){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:i}=this.constrainPosition?this.constrainPosition(a,this,this._initialDomRect,this._pickupPositionInElement):a;if(this.lockAxis==="x"||e==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=this._boundaryRect,{width:h,height:g}=this._getPreviewRect(),v=d.top+o,L=d.bottom-(g-o),se=d.left+r,yi=d.right-(h-r);t=pr(t,se,yi),i=pr(i,v,L)}return{x:t,y:i}}_updatePointerDirectionDelta(a){let{x:e,y:t}=a,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),d=Math.abs(t-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),d>this._config.pointerDirectionChangeThreshold&&(i.y=t>r.y?1:-1,r.y=t),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let a=this._handles.length>0||!this.isDragging();a!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=a,Ue(this._rootElement,a))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(a=>a()),this._rootElementCleanups=void 0}_applyRootElementTransform(a,e){let t=1/this.scale,i=fi(a*t,e*t),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=gi(i,this._initialTransform)}_applyPreviewTransform(a,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,i=fi(a,e);this._preview.setTransform(gi(i,t))}_getDragDistance(a){let e=this._pickupPositionOnPage;return e?{x:a.x-e.x,y:a.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:a,y:e}=this._passiveTransform;if(a===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||t.width===0&&t.height===0)return;let r=i.left-t.left,o=t.right-i.right,d=i.top-t.top,h=t.bottom-i.bottom;i.width>t.width?(r>0&&(a+=r),o>0&&(a-=o)):a=0,i.height>t.height?(d>0&&(e+=d),h>0&&(e-=h)):e=0,(a!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:a})}_getDragStartDelay(a){let e=this.dragStartDelay;return typeof e=="number"?e:pt(a)?e.touch:e?e.mouse:0}_updateOnScroll(a){let e=this._parentPositions.handleScroll(a);if(e){let t=it(a);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&mt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Tt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(a,e){let t=this._previewContainer||"global";if(t==="parent")return a;if(t==="global"){let i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ge(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=a=>{if(this._handles.length){let e=this._getTargetHandle(a);e&&!this._disabledHandles.has(e)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()};_getTargetHandle(a){return this._handles.find(e=>a.target&&(a.target===e||e.contains(a.target)))}};function pr(n,a,e){return Math.max(a,Math.min(e,n))}function pt(n){return n.type[0]==="t"}function No(n){n.preventDefault()}function gr(n,a,e){let t=hr(a,n.length-1),i=hr(e,n.length-1);if(t===i)return;let r=n[t],o=i<t?-1:1;for(let d=t;d!==i;d+=o)n[d]=n[d+o];n[i]=r}function hr(n,a){return Math.max(0,Math.min(a,n))}var vi=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(a){this._dragDropRegistry=a}_previousSwap={drag:null,delta:0,overlaps:!1};start(a){this.withItems(a)}sort(a,e,t,i){let r=this._itemPositions,o=this._getItemIndexFromPointerPosition(a,e,t,i);if(o===-1&&r.length>0)return null;let d=this.orientation==="horizontal",h=r.findIndex($=>$.drag===a),g=r[o],v=r[h].clientRect,L=g.clientRect,se=h>o?1:-1,yi=this._getItemOffsetPx(v,L,se),Pr=this._getSiblingOffsetPx(h,r,se),Rr=r.slice();return gr(r,h,o),r.forEach(($,Tr)=>{if(Rr[Tr]===$)return;let ra=$.drag===a,Ci=ra?yi:Pr,oa=ra?a.getPlaceholderElement():$.drag.getRootElement();$.offset+=Ci;let sa=Math.round($.offset*(1/$.drag.scale));d?(oa.style.transform=gi(`translate3d(${sa}px, 0, 0)`,$.initialTransform),mt($.clientRect,0,Ci)):(oa.style.transform=gi(`translate3d(0, ${sa}px, 0)`,$.initialTransform),mt($.clientRect,Ci,0))}),this._previousSwap.overlaps=Wi(L,e,t),this._previousSwap.drag=g.drag,this._previousSwap.delta=d?i.x:i.y,{previousIndex:h,currentIndex:o}}enter(a,e,t,i){let r=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i,o=this._activeDraggables,d=o.indexOf(a),h=a.getPlaceholderElement(),g=o[r];if(g===a&&(g=o[r+1]),!g&&(r==null||r===-1||r<o.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(g=o[0]),d>-1&&o.splice(d,1),g&&!this._dragDropRegistry.isDragging(g)){let v=g.getRootElement();v.parentElement.insertBefore(h,v),o.splice(r,0,a)}else this._element.appendChild(h),o.push(a);h.style.transform="",this._cacheItemPositions()}withItems(a){this._activeDraggables=a.slice(),this._cacheItemPositions()}withSortPredicate(a){this._sortPredicate=a}reset(){this._activeDraggables?.forEach(a=>{let e=a.getRootElement();if(e){let t=this._itemPositions.find(i=>i.drag===a)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(a){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===a)}updateOnScroll(a,e){this._itemPositions.forEach(({clientRect:t})=>{mt(t,a,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(a){this._element=a}_cacheItemPositions(){let a=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:ea(t)}}).sort((e,t)=>a?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(a,e,t){let i=this.orientation==="horizontal",r=i?e.left-a.left:e.top-a.top;return t===-1&&(r+=i?e.width-a.width:e.height-a.height),r}_getSiblingOffsetPx(a,e,t){let i=this.orientation==="horizontal",r=e[a].clientRect,o=e[a+t*-1],d=r[i?"width":"height"]*t;if(o){let h=i?"left":"top",g=i?"right":"bottom";t===-1?d-=o.clientRect[h]-r[g]:d+=r[h]-o.clientRect[g]}return d}_shouldEnterAsFirstChild(a,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,i=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let o=t[t.length-1].clientRect;return i?a>=o.right:e>=o.bottom}else{let o=t[0].clientRect;return i?a<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(a,e,t,i){let r=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:d,clientRect:h})=>{if(d===a)return!1;if(i){let g=r?i.x:i.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return r?e>=Math.floor(h.left)&&e<Math.floor(h.right):t>=Math.floor(h.top)&&t<Math.floor(h.bottom)});return o===-1||!this._sortPredicate(o,a)?-1:o}},Zi=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(a,e){this._document=a,this._dragDropRegistry=e}start(a){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let i=e[t];this._relatedNodes.push([i,i.nextSibling])}this.withItems(a)}sort(a,e,t,i){let r=this._getItemIndexFromPointerPosition(a,e,t),o=this._previousSwap;if(r===-1||this._activeItems[r]===a)return null;let d=this._activeItems[r];if(o.drag===d&&o.overlaps&&o.deltaX===i.x&&o.deltaY===i.y)return null;let h=this.getItemIndex(a),g=a.getPlaceholderElement(),v=d.getRootElement();r>h?v.after(g):v.before(g),gr(this._activeItems,h,r);let L=this._getRootNode().elementFromPoint(e,t);return o.deltaX=i.x,o.deltaY=i.y,o.drag=d,o.overlaps=v===L||v.contains(L),{previousIndex:h,currentIndex:r}}enter(a,e,t,i){let r=i==null||i<0?this._getItemIndexFromPointerPosition(a,e,t):i;r===-1&&(r=this._getClosestItemIndexToPointer(a,e,t));let o=this._activeItems[r],d=this._activeItems.indexOf(a);d>-1&&this._activeItems.splice(d,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(r,0,a),o.getRootElement().before(a.getPlaceholderElement())):(this._activeItems.push(a),this._element.appendChild(a.getPlaceholderElement()))}withItems(a){this._activeItems=a.slice()}withSortPredicate(a){this._sortPredicate=a}reset(){let a=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[i,r]=this._relatedNodes[t];i.parentNode===a&&i.nextSibling!==r&&(r===null?a.appendChild(i):r.parentNode===a&&a.insertBefore(i,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(a){return this._activeItems.indexOf(a)}updateOnScroll(){this._activeItems.forEach(a=>{this._dragDropRegistry.isDragging(a)&&a._sortFromLastPointerPosition()})}withElementContainer(a){a!==this._element&&(this._element=a,this._rootNode=void 0)}_getItemIndexFromPointerPosition(a,e,t){let i=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),r=i?this._activeItems.findIndex(o=>{let d=o.getRootElement();return i===d||d.contains(i)}):-1;return r===-1||!this._sortPredicate(r,a)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=Tt(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(a,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,r=-1;for(let o=0;o<this._activeItems.length;o++){let d=this._activeItems[o];if(d!==a){let{x:h,y:g}=d.getRootElement().getBoundingClientRect(),v=Math.hypot(e-h,t-g);v<i&&(i=v,r=o)}}return r}},mr=.05,fr=.05,W=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(W||{}),F=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(F||{}),Xi=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new C;entered=new C;exited=new C;dropped=new C;sorted=new C;receivingStarted=new C;receivingStopped=new C;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=I.EMPTY;_verticalScrollDirection=W.NONE;_horizontalScrollDirection=F.NONE;_scrollNode;_stopScrollTimers=new C;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(a,e,t,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r;let o=this.element=ge(a);this._document=t,this.withOrientation("vertical").withElementContainer(o),e.registerDropContainer(this),this._parentPositions=new _i(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(a,e,t,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(a)),this._sortStrategy.enter(a,e,t,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:a,container:this,currentIndex:this.getItemIndex(a)})}exit(a){this._reset(),this.exited.next({item:a,container:this})}drop(a,e,t,i,r,o,d,h={}){this._reset(),this.dropped.next({item:a,currentIndex:e,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:r,distance:o,dropPoint:d,event:h})}withItems(a){let e=this._draggables;return this._draggables=a,a.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>a.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(a){return this._direction=a,this._sortStrategy instanceof vi&&(this._sortStrategy.direction=a),this}connectedTo(a){return this._siblings=a.slice(),this}withOrientation(a){if(a==="mixed")this._sortStrategy=new Zi(this._document,this._dragDropRegistry);else{let e=new vi(this._dragDropRegistry);e.direction=this._direction,e.orientation=a,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(a){let e=this._container;return this._scrollableElements=a.indexOf(e)===-1?[e,...a]:a.slice(),this}withElementContainer(a){if(a===this._container)return this;let e=ge(this.element),t=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(a);return t>-1&&this._scrollableElements.splice(t,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(a),this._cachedShadowRoot=null,this._scrollableElements.unshift(a),this._container=a,this}getScrollableParents(){return this._scrollableElements}getItemIndex(a){return this._isDragging?this._sortStrategy.getItemIndex(a):this._draggables.indexOf(a)}isReceiving(){return this._activeSiblings.size>0}_sortItem(a,e,t,i){if(this.sortingDisabled||!this._domRect||!nr(this._domRect,mr,e,t))return;let r=this._sortStrategy.sort(a,e,t,i);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:a})}_startScrollingIfNecessary(a,e){if(this.autoScrollDisabled)return;let t,i=W.NONE,r=F.NONE;if(this._parentPositions.positions.forEach((o,d)=>{d===this._document||!o.clientRect||t||nr(o.clientRect,mr,a,e)&&([i,r]=Lo(d,o.clientRect,this._direction,a,e),(i||r)&&(t=d))}),!i&&!r){let{width:o,height:d}=this._viewportRuler.getViewportSize(),h={width:o,height:d,top:0,right:o,bottom:d,left:0};i=vr(h,e),r=Dr(h,a),t=window}t&&(i!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=t,(i||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let a=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=a.msScrollSnapType||a.scrollSnapType||"",a.scrollSnapType=a.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let a=this._container.style;a.scrollSnapType=a.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ua(0,ha).pipe(Dt(this._stopScrollTimers)).subscribe(()=>{let a=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===W.UP?a.scrollBy(0,-e):this._verticalScrollDirection===W.DOWN&&a.scrollBy(0,e),this._horizontalScrollDirection===F.LEFT?a.scrollBy(-e,0):this._horizontalScrollDirection===F.RIGHT&&a.scrollBy(e,0)})};_isOverContainer(a,e){return this._domRect!=null&&Wi(this._domRect,a,e)}_getSiblingContainerFromPosition(a,e,t){return this._siblings.find(i=>i._canReceive(a,e,t))}_canReceive(a,e,t){if(!this._domRect||!Wi(this._domRect,e,t)||!this.enterPredicate(a,this))return!1;let i=this._getShadowRoot().elementFromPoint(e,t);return i?i===this._container||this._container.contains(i):!1}_startReceiving(a,e){let t=this._activeSiblings;!t.has(a)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(t.add(a),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:a,receiver:this,items:e}))}_stopReceiving(a){this._activeSiblings.delete(a),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:a,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(a=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(a);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let a=Tt(this._container);this._cachedShadowRoot=a||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let a=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,a))}};function vr(n,a){let{top:e,bottom:t,height:i}=n,r=i*fr;return a>=e-r&&a<=e+r?W.UP:a>=t-r&&a<=t+r?W.DOWN:W.NONE}function Dr(n,a){let{left:e,right:t,width:i}=n,r=i*fr;return a>=e-r&&a<=e+r?F.LEFT:a>=t-r&&a<=t+r?F.RIGHT:F.NONE}function Lo(n,a,e,t,i){let r=vr(a,i),o=Dr(a,t),d=W.NONE,h=F.NONE;if(r){let g=n.scrollTop;r===W.UP?g>0&&(d=W.UP):n.scrollHeight-g>n.clientHeight&&(d=W.DOWN)}if(o){let g=n.scrollLeft;e==="rtl"?o===F.RIGHT?g<0&&(h=F.RIGHT):n.scrollWidth+g>n.clientWidth&&(h=F.LEFT):o===F.LEFT?g>0&&(h=F.LEFT):n.scrollWidth-g>n.clientWidth&&(h=F.RIGHT)}return[d,h]}var ht={capture:!0},Ki={passive:!1,capture:!0},Yo=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),ia=(()=>{class n{_ngZone=s(ye);_document=s(Se);_styleLoader=s(Ee);_renderer=s(Ei).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=A([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new C;pointerUp=new C;scroll=new C;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=R(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Ki)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Yo),this._activeDragInstances.update(i=>[...i,e]),this._activeDragInstances().length===1)){let i=t.type.startsWith("touch"),r=d=>this.pointerUp.next(d),o=[["scroll",d=>this.scroll.next(d),ht],["selectstart",this._preventDefaultWhileDragging,Ki]];i?o.push(["touchend",r,ht],["touchcancel",r,ht]):o.push(["mouseup",r,ht]),i||o.push(["mousemove",d=>this.pointerMove.next(d),Ki]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=o.map(([d,h,g])=>R(this._renderer,this._document,d,h,g))})}}stopDragging(e){this._activeDragInstances.update(t=>{let i=t.indexOf(e);return i>-1?(t.splice(i,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new wi(i=>this._ngZone.runOutsideAngular(()=>{let r=R(this._renderer,e,"scroll",o=>{this._activeDragInstances().length&&i.next(o)},ht);return()=>{r()}}))),X(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bo={dragStartThreshold:5,pointerDirectionChangeThreshold:5},br=(()=>{class n{_document=s(Se);_ngZone=s(ye);_viewportRuler=s(Ka);_dragDropRegistry=s(ia);_renderer=s(Ei).createRenderer(null,null);constructor(){}createDrag(e,t=Bo){return new Qi(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Xi(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=new J("CDK_DRAG_PARENT");var yr=new J("CdkDragHandle"),Cr=(()=>{class n{element=s(pe);_parentDrag=s(Ji,{optional:!0,skipSelf:!0});_dragDropRegistry=s(ia);_stateChanges=new C;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let t=this._dragDropRegistry.getDragDirectiveForNode(e);if(t){this._parentDrag=t,t._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",V]},features:[Ce([{provide:yr,useExisting:n}])]})}return n})(),Ho=new J("CDK_DRAG_CONFIG"),zo=new J("CdkDropList"),wr=(()=>{class n{element=s(pe);dropContainer=s(zo,{optional:!0,skipSelf:!0});_ngZone=s(ye);_viewContainerRef=s(wt);_dir=s(ke,{optional:!0});_changeDetectorRef=s(q);_selfHandle=s(yr,{optional:!0,self:!0});_parentDrag=s(Ji,{optional:!0,skipSelf:!0});_dragDropRegistry=s(ia);_destroyed=new C;_handles=new ut([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new f;released=new f;ended=new f;entered=new f;exited=new f;dropped=new f;moved=new wi(e=>{let t=this._dragRef.moved.pipe(T(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=s(be);constructor(){let e=this.dropContainer,t=s(Ho,{optional:!0}),i=s(br);this._dragRef=i.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(Dt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Ze(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),i=t.indexOf(e);i>-1&&(t.splice(i,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ge(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,i=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof i=="object"&&i?i:ja(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(ft(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){e.withParent(i._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:i,constrainPosition:r,previewClass:o,boundaryElement:d,draggingDisabled:h,rootElementSelector:g,previewContainer:v}=e;this.disabled=h??!1,this.dragStartDelay=i||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),o&&(this.previewClass=o),d&&(this.boundaryElement=d),g&&(this.rootElementSelector=g),v&&(this.previewContainer=v)}_setupHandlesListener(){this._handles.pipe(U(e=>{let t=e.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),vt(e=>X(...e.map(t=>t._stateChanges.pipe(Ve(t))))),Dt(this._destroyed)).subscribe(e=>{let t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){t&2&&H("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",V],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ia]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ce([{provide:Ji,useExisting:n}]),Q]})}return n})();var Sr=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ne({type:n});static \u0275inj=Fe({providers:[br],imports:[Ot]})}return n})();var $o=[[["","msk-dialog-content",""]]],qo=["[msk-dialog-content]"],Ko=n=>({"mt-1":n}),Wo=n=>({"me-1":n});function Uo(n,a){n&1&&(c(0,"div",2),y(1,"mat-spinner",3),p())}function Qo(n,a){if(n&1&&ue(0,6),n&2){u(2);let e=ae(3);_("ngTemplateOutlet",e)}}function Zo(n,a){if(n&1&&ue(0,6),n&2){let e=u(2);_("ngTemplateOutlet",e.trailing()||null)}}function Xo(n,a){if(n&1&&ue(0,6),n&2){u(2);let e=ae(3);_("ngTemplateOutlet",e)}}function Jo(n,a){if(n&1&&ue(0,6),n&2){let e=u(2);_("ngTemplateOutlet",e.primaryAction()||null)}}function es(n,a){if(n&1&&(c(0,"mat-dialog-actions",9),ue(1,6)(2,6),p()),n&2){let e=u(2),t=ae(5);l(),_("ngTemplateOutlet",t),l(),_("ngTemplateOutlet",e.primaryAction()||null)}}function ts(n,a){if(n&1&&(c(0,"div",4)(1,"div",5),D(2,Qo,1,1,"ng-container",6),c(3,"span",7),m(4),p()(),c(5,"div",8),D(6,Zo,1,1,"ng-container",6)(7,Xo,1,1,"ng-container",6)(8,Jo,1,1,"ng-container",6),p()(),c(9,"mat-dialog-content"),Ye(10),p(),D(11,es,3,2,"mat-dialog-actions",9)),n&2){let e=u();H("cursor-move",e.hasDrag()&&!e.isFullScreen())("shadow-level-2",e.isScrolled()),_("cdkDragFreeDragPosition",e.dragPosition)("cdkDragDisabled",!e.hasDrag()||e.isFullScreen()),l(2),S(e.isFullScreen()?2:-1),l(),_("ngClass",P(13,Ko,e.isFullScreen)),l(),x(" ",e.title()," "),l(2),S(e.hasAction()?-1:6),l(),S(e.isFullScreen()?-1:7),l(),S(e.hasAction()&&e.isFullScreen()?8:-1),l(3),S(e.hasAction()&&!e.isFullScreen()?11:-1)}}function is(n,a){if(n&1&&(c(0,"button",10)(1,"mat-icon",11),m(2,"close"),p()()),n&2){let e=u();_("ngClass",P(1,Wo,e.isFullScreen()))}}function as(n,a){if(n&1&&(c(0,"button",13),m(1),p()),n&2){let e=a.$implicit;l(),x(" ",e("cancel")," ")}}function ns(n,a){n&1&&D(0,as,2,1,"button",12)}var xr=(()=>{class n{constructor(){this._parent=s(Zt),this._destroyRef=s(Ct),this._mskMediaWatcherService=s(Ya),this._dialogContent=Xe.required(Re,{read:Ae}),this.title=B.required(),this.isLoading=B(!1),this.hasDrag=B(!1),this.hasAction=B(!1),this.primaryAction=B(),this.trailing=B(),this.isScrolled=A(!1),this.isFullScreen=A(!1),this.dragPosition={x:0,y:0},Pa(()=>{this.isFullScreen()?(this.dragPosition={x:0,y:0},this._parent.addPanelClass("mat-mdc-dialog-fullscreen")):this._parent.removePanelClass("mat-mdc-dialog-fullscreen")})}ngOnInit(){this._parent?.addPanelClass("msk-dialog-panel"),this._mskMediaWatcherService.onMediaChange$.pipe(xe(this._destroyRef)).subscribe(({matchingAliases:e})=>{this.isFullScreen.set(!e.includes("md"))})}ngAfterViewInit(){this._dialogContent().elementScrolled().pipe(xe(this._destroyRef),T(e=>e.target.scrollTop||0),gt(e=>this.isScrolled()!=e>10)).subscribe(e=>{this.isScrolled.set(e>10)})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-dialog"]],viewQuery:function(t,i){t&1&&et(i._dialogContent,Re,5,Ae),t&2&&xt()},inputs:{title:[1,"title"],isLoading:[1,"isLoading"],hasDrag:[1,"hasDrag"],hasAction:[1,"hasAction"],primaryAction:[1,"primaryAction"],trailing:[1,"trailing"]},exportAs:["mskDialog"],ngContentSelectors:qo,decls:6,vars:1,consts:[["closeIconButton",""],["closeActionButton",""],[1,"h-30","flex","items-center","justify-center"],["mode","indeterminate","diameter","40"],["cdkDrag","","cdkDragHandle","","cdkDragRootElement",".cdk-overlay-pane","mat-dialog-title","",1,"z-10","flex","items-center","justify-between",3,"cdkDragFreeDragPosition","cdkDragDisabled"],[1,"flex","items-center","truncate"],[3,"ngTemplateOutlet"],[3,"ngClass"],[1,"flex","items-center"],["align","end"],["mat-icon-button","","matDialogClose","cancelled",3,"ngClass"],[1,"text-current"],["mat-button","","matDialogClose","cancelled",4,"transloco"],["mat-button","","matDialogClose","cancelled"]],template:function(t,i){t&1&&(Le($o),D(0,Uo,2,0,"div",2)(1,ts,12,15)(2,is,3,3,"ng-template",null,0,_e)(4,ns,1,0,"ng-template",null,1,_e)),t&2&&S(i.isLoading()?0:1)},dependencies:[N,It,Sr,wr,Cr,oe,re,ne,ce,Ie,ze,ei,ti,ii,Re,An,Mn,fe],encapsulation:2,data:{animation:He},changeDetection:0})}}return n})();var rs=n=>({"text-center":n});function os(n,a){if(n&1&&(c(0,"div",0)(1,"mat-icon"),m(2),p()()),n&2){let e=u();l(2),b(e.data.icon==null?null:e.data.icon.name)}}function ss(n,a){if(n&1&&(c(0,"h2",1),m(1),p()),n&2){let e=u();_("ngClass",P(2,rs,e.data.icon==null?null:e.data.icon.show)),l(),b(e.data.title)}}function ls(n,a){if(n&1&&(c(0,"button",3),m(1),p()),n&2){let e=u(2);l(),x(" ",e.data.actions==null||e.data.actions.cancel==null?null:e.data.actions.cancel.label," ")}}function ds(n,a){if(n&1&&(c(0,"button",4),m(1),p()),n&2){let e=u(2);l(),x(" ",e.data.actions==null||e.data.actions.confirm==null?null:e.data.actions.confirm.label," ")}}function cs(n,a){if(n&1&&(c(0,"mat-dialog-actions"),D(1,ls,2,1,"button",3)(2,ds,2,1,"button",4),p()),n&2){let e=u();l(),S(!(e.data.actions==null||e.data.actions.cancel==null)&&e.data.actions.cancel.show?1:-1),l(),S(!(e.data.actions==null||e.data.actions.confirm==null)&&e.data.actions.confirm.show?2:-1)}}var kr=(()=>{class n{constructor(){this.data=s(Xt)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["msk-confirmation-dialog"]],decls:5,vars:4,consts:[[1,"mat-mdc-dialog-icon"],["mat-dialog-title","",3,"ngClass"],[3,"innerHTML"],["mat-button","","matDialogClose","cancelled"],["mat-button","","matDialogClose","confirmed"]],template:function(t,i){t&1&&(D(0,os,3,1,"div",0)(1,ss,2,4,"h2",1),c(2,"mat-dialog-content"),y(3,"div",2),p(),D(4,cs,3,2,"mat-dialog-actions")),t&2&&(S(i.data.icon!=null&&i.data.icon.show?0:-1),l(),S(i.data.title?1:-1),l(2),_("innerHTML",i.data.message,Da),l(),S(!(i.data.actions==null||i.data.actions.confirm==null)&&i.data.actions.confirm.show||!(i.data.actions==null||i.data.actions.cancel==null)&&i.data.actions.cancel.show?4:-1))},dependencies:[N,oe,re,ne,ce,ze,ei,ti,ii,Re],encapsulation:2})}}return n})();var aa=(()=>{class n{constructor(){this._document=s(Se),this._matDialog=s(Jt),this._defaultConfig={title:"",message:"",actions:{confirm:{show:!0,label:"Confirm"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}}open(e={}){let t=La({},this._defaultConfig,e);return this._matDialog.open(kr,{autoFocus:!1,direction:this._document.body.getAttribute("dir"),disableClose:!t.dismissible,data:t,panelClass:"msk-confirmation-dialog-panel"})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ps={gregorian:Cn,jalali:wn},Er=(()=>{class n{constructor(){this.matDateLocale=s(bn),this._calendarType="gregorian",this.matDateLocale.code==="fa-IR"&&(this._calendarType="jalali",this.matDateLocale=yn)}transform(e,t="mediumDate"){if(e===""||e==null||e!==e)return null;switch(t){case"short":return this._formatDate(e,"Pp");case"medium":return this._formatDate(e,"PPpp");case"long":return this._formatDate(e,"PPPppp");case"full":return this._formatDate(e,"PPPPpppp");case"shortDate":return this._formatDate(e,"P");case"mediumDate":return this._formatDate(e,"PP");case"longDate":return this._formatDate(e,"PPP");case"fullDate":return this._formatDate(e,"PPPP");case"shortTime":return this._formatDate(e,"p");case"mediumTime":return this._formatDate(e,"pp");case"longTime":return this._formatDate(e,"ppp");case"fullTime":return this._formatDate(e,"pppp");default:return this._formatDate(e,t)}}_formatDate(e,t){return ps[this._calendarType](new Date(e),t,{locale:this.matDateLocale})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=wa({name:"mskDateTime",type:n,pure:!1})}}return n})();var Di=class{constructor(a,e,t){this._transloco=t,this._handleFormErrors(a,e)}_handleFormErrors(a,e){a.statusChanges.subscribe(()=>{this._findErrors(a,e)})}_findErrors(a,e){Object.keys(a.controls).forEach(t=>{let i=a.get(t);i instanceof Pe?this._findErrorsOnFormControls(e,i,t):i instanceof Be?(Object.defineProperty(e,t,{value:{},writable:!0}),this._findErrors(i,e[t])):i instanceof Kt&&(Object.defineProperty(e,t,{value:[],writable:!0}),i.controls.forEach(r=>this._findErrors(r,e[t])))})}_findErrorsOnFormControls(a,e,t){e.invalid&&(e.dirty||e.touched)?Object.defineProperty(a,t,{writable:!0,configurable:!0,value:this._getErrorMessage(e.errors)}):delete a[t]}_getErrorMessage(a){return a?a.serverError?a.serverError:a.required?this._transloco.translate("error-validation.required"):a.minlength?this._transloco.translate("error-validation.min-length",{min:a.minlength.requiredLength}):a.maxlength?this._transloco.translate("error-validation.max-length",{max:a.maxlength.requiredLength}):a.min?this._transloco.translate("error-validation.min",{min:a.min.min}):a.max?this._transloco.translate("error-validation.max",{max:a.max.max}):a.email?this._transloco.translate("error-validation.email"):a.pattern?this._transloco.translate("error-validation.pattern"):a.iranianIBAN?this._transloco.translate("error-validation.iranian-iban"):a.passwordMismatch?this._transloco.translate("error-validation.passwords-must-match"):"":""}};function Mr(n,a){n&&Object.keys(n).forEach(e=>{a.get(Na(e))?.setErrors({serverError:n[e][0]})})}function bi(n){Object.keys(n.controls).forEach(a=>{let e=n.get(a);e instanceof Pe?(e.markAsTouched(),e.updateValueAndValidity()):e instanceof Be?bi(e):e instanceof Kt&&e.controls.forEach(t=>{bi(t)})})}var hs=n=>({code:n}),ms=n=>({t:n}),us=n=>({name:n}),Ar=n=>({"!text-error":n}),_s=()=>[1,2,3];function gs(n,a){if(n&1){let e=le();c(0,"button",8),k("click",function(){E(e);let i=u(2);return M(i.editMode())}),c(1,"mat-icon",9),m(2,"edit"),p()()}}function fs(n,a){if(n&1&&(c(0,"span"),m(1),p()),n&2){let e=a.$implicit,t=u(3);l(),b(t.form.enabled?e("save"):"")}}function vs(n,a){if(n&1){let e=le();c(0,"button",10),k("click",function(){E(e);let i=u(2);return M(i.saveAndClose())}),D(1,fs,2,1,"span",11),p()}if(n&2){let e=u(2);_("disabled",e.form.disabled)("mskSpinner",e.form.disabled)}}function Ds(n,a){if(n&1&&(c(0,"msk-dialog",6),ue(1,7),D(2,gs,3,0,"ng-template",null,2,_e)(4,vs,2,2,"ng-template",null,3,_e),p()),n&2){let e,t=a.$implicit,i=ae(3),r=ae(5),o=u(),d=ae(2),h=ae(4);_("title",t(o.data.action(),P(6,hs,(e=o.data.item())==null?null:e.code)))("hasAction",o.data.action()!=="view")("primaryAction",r)("trailing",i),l(),_("ngTemplateOutlet",o.data.action()==="view"?d:h)("ngTemplateOutletContext",P(8,ms,t))}}function bs(n,a){if(n&1&&(c(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"badge"),p()(),c(4,"div",21)(5,"span"),m(6),p(),c(7,"span"),m(8),p()()()),n&2){let e,t=u().t,i=u();l(6),b(((e=i.data.item())==null?null:e.nationalCode)||"-"),l(2),b(t("nationalCode"))}}function ys(n,a){if(n&1&&(c(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"cake"),p()(),c(4,"div",21)(5,"span"),m(6),we(7,"mskDateTime"),p(),c(8,"span"),m(9),p()()()),n&2){let e,t=u().t,i=u();l(6),b(Aa(7,2,(e=i.data.item())==null?null:e.dateOfBirth,"longDate")||"-"),l(3),b(t("birthday"))}}function Cs(n,a){if(n&1&&(c(0,"span"),m(1),p()),n&2){let e,t=a.$implicit,i=u(3);l(),b(t((e=(e=i.data.item())==null||e.gender==null?null:e.gender.toString())!==null&&e!==void 0?e:""))}}function ws(n,a){if(n&1&&(c(0,"div",17)(1,"div",20)(2,"mat-icon"),m(3,"male"),p()(),c(4,"div",21),D(5,Cs,2,1,"span",22),c(6,"span"),m(7),p()()()),n&2){let e=u().t;l(5),_("translocoRead","people.genders"),l(2),b(e("gender"))}}function Ss(n,a){if(n&1&&(c(0,"div",15)(1,"div",16),m(2),p(),c(3,"div",17)(4,"div",20)(5,"mat-icon"),m(6,"sticky_note_2"),p()(),c(7,"div",21)(8,"span"),m(9),p()()()()),n&2){let e,t=u().t,i=u();l(2),b(t("note")),l(7),b((e=i.data.item())==null?null:e.note)}}function xs(n,a){if(n&1){let e=le();c(0,"div",23)(1,"div",16),m(2),p(),c(3,"div",24),k("click",function(){E(e);let i=u(2);return M(i.updateStatus())}),c(4,"div",20)(5,"mat-icon",25),m(6),p()(),c(7,"div",21)(8,"span",25),m(9),p()()()()}if(n&2){let e,t,i,r,o=a.$implicit,d=u(2);l(2),b(o("settings")),l(3),_("ngClass",P(5,Ar,(e=d.data.item())==null?null:e.isActive)),l(),x(" ",(t=d.data.item())!=null&&t.isActive?"cancel":"check_circle"," "),l(2),_("ngClass",P(7,Ar,(i=d.data.item())==null?null:i.isActive)),l(),x(" ",(r=d.data.item())!=null&&r.isActive?o("people.deactivate"):o("people.activate")," ")}}function ks(n,a){if(n&1&&(c(0,"div",12),y(1,"msk-avatar",13),c(2,"div",14),m(3),p()(),c(4,"div",15)(5,"div",16),m(6),p(),D(7,bs,9,2,"div",17)(8,ys,10,5,"div",17)(9,ws,8,2,"div",17),p(),D(10,Ss,10,2,"div",15),y(11,"div",18),D(12,xs,10,9,"div",19)),n&2){let e,t,i,r,o,d,h,g=a.t,v=u();l(),_("name",(e=(e=v.data.item())==null?null:e.fullName)!==null&&e!==void 0?e:""),l(2),x(" ",(t=v.data.item())==null?null:t.fullName," "),l(3),x(" ",g("about",P(7,us,(i=v.data.item())==null?null:i.fullName))," "),l(),S((r=v.data.item())!=null&&r.nationalCode?7:-1),l(),S((o=v.data.item())!=null&&o.dateOfBirth?8:-1),l(),S((d=v.data.item())!=null&&d.gender?9:-1),l(),S((h=v.data.item())!=null&&h.note?10:-1)}}function Es(n,a){if(n&1&&(c(0,"msk-alert",27),m(1),p()),n&2){let e=u(2);_("@shake",void 0),l(),x(" ",e.alert().message," ")}}function Ms(n,a){if(n&1&&(c(0,"mat-option",37),m(1),p()),n&2){let e=a.$implicit,t=u().$implicit;_("value",e),l(),b(t("people.genders."+e))}}function As(n,a){n&1&&(c(0,"mat-select",36),he(1,Ms,2,2,"mat-option",37,Sa),p()),n&2&&(l(),me(At(0,_s)))}function Is(n,a){if(n&1&&(c(0,"form",26),D(1,Es,2,2,"msk-alert",27),c(2,"div",28)(3,"mat-form-field")(4,"mat-label"),m(5),p(),y(6,"input",29),c(7,"mat-error"),m(8),p()(),c(9,"mat-form-field")(10,"mat-label"),m(11),p(),y(12,"input",30),c(13,"mat-error"),m(14),p()()(),c(15,"div",28)(16,"mat-form-field")(17,"mat-label"),m(18),p(),y(19,"input",31),c(20,"mat-error"),m(21),p()(),c(22,"mat-form-field")(23,"mat-label"),m(24),p(),y(25,"input",32)(26,"mat-datepicker-toggle",33)(27,"mat-datepicker",null,4),c(29,"mat-error"),m(30),p()()(),c(31,"mat-form-field")(32,"mat-label"),m(33),p(),D(34,As,3,1,"mat-select",34),c(35,"mat-error"),m(36),p()(),c(37,"mat-form-field"),y(38,"textarea",35),c(39,"mat-error"),m(40),p()()()),n&2){let e=a.t,t=ae(28),i=u();_("formGroup",i.form),l(),S(i.alert().show?1:-1),l(4),b(e("firstName")),l(3),b(i.formErrors.firstName),l(3),b(e("lastName")),l(3),b(i.formErrors.lastName),l(4),b(e("nationalCode")),l(3),b(i.formErrors.nationalCode),l(3),b(e("birthday")),l(),_("matDatepicker",t),l(),_("for",t),l(4),b(i.formErrors.dateOfBirth),l(3),b(e("gender")),l(3),b(i.formErrors.gender),l(2),_("placeholder",e("note"))("rows",2),l(2),b(i.formErrors.note)}}var Ir=(()=>{class n{constructor(){this.data=s(Xt),this.dialogRef=s(Zt),this._formBuilder=s(un),this._peopleService=s(Te),this._translocoService=s(Xa),this._mskConfirmationService=s(aa),this.formErrors={},this.alert=A({show:!1,message:""})}ngOnInit(){this.form=this._formBuilder.group({id:[0,Z.required],firstName:["",[Z.required,Z.minLength(2),Z.maxLength(25)]],lastName:["",[Z.required,Z.minLength(2),Z.maxLength(25)]],nationalCode:"",dateOfBirth:null,gender:["",Z.required],note:""}),new Di(this.form,this.formErrors,this._translocoService),this.form.patchValue(this.data.item()||{})}editMode(){this.data.action.set("edit")}updateStatus(){let e=this.data.item()?.isActive;this._mskConfirmationService.open({title:this._translocoService.translate(e?"people.deactivate":"people.activate"),message:this._translocoService.translate(e?"people.deactivate-message":"people.activate-message",{name:this.data.item()?.fullName}),actions:{confirm:{label:this._translocoService.translate(e?"deactivate":"activate")},cancel:{label:this._translocoService.translate("cancel")}}}).afterClosed().subscribe(i=>{if(i!=="confirmed")return;let r={id:this.data.item()?.id,isActive:!this.data.item()?.isActive};this._peopleService.updatePersonStatus(r).pipe(T(o=>{this.data.item.set(o)}),De(o=>Qe)).subscribe()})}saveAndClose(){if(bi(this.form),this.form.invalid)return;this.form.disable(),this.alert.set({show:!1,message:""}),(this.data.action()==="edit"?this._peopleService.updatePerson(this.form.value):this._peopleService.createPerson(this.form.value)).pipe(U(t=>this.dialogRef.close(t)),De(t=>(this.form.enable(),this.alert.set({show:!0,message:t.error.message}),t.error.errors&&Mr(t.error.errors,this.form),Qe))).subscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-details"]],decls:5,vars:1,consts:[["viewTemplate",""],["formTemplate",""],["trailing",""],["primaryAction",""],["picker",""],[3,"title","hasAction","primaryAction","trailing",4,"transloco","translocoRead"],[3,"title","hasAction","primaryAction","trailing"],["msk-dialog-content","",3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-icon-button","",3,"click"],[1,"mat-icon-rtl-mirror","text-current"],["mat-button","",3,"click","disabled","mskSpinner"],[4,"transloco"],[1,"mb-2","flex","flex-col","items-center","gap-5","p-4"],["size","big",3,"name"],[1,"text-headline-small","text-on-surface"],[1,"msk-mat-card-filled","mb-2","p-4"],[1,"text-secondary","mb-2","font-bold"],[1,"msk-list-item","-mx-4"],[1,"my-4","border-t"],["class","mb-2",4,"transloco"],[1,"msk-list-item-icon"],[1,"msk-list-item-content"],[4,"transloco","translocoRead"],[1,"mb-2"],["matRipple","","aria-hidden","true",1,"msk-list-item","-mx-6","cursor-pointer","gap-2",3,"click"],[3,"ngClass"],[1,"flex","flex-auto","flex-col","gap-y-2",3,"formGroup"],["appearance","outline","type","error",1,"mb-4"],[1,"flex","flex-col","gap-x-4","sm:flex-row","[&>*]:flex-1"],["matInput","","formControlName","firstName","maxlength","128","autocomplete","off"],["matInput","","formControlName","lastName","maxlength","128","autocomplete","off"],["matInput","","formControlName","nationalCode","maxlength","10","autocomplete","off"],["matInput","","formControlName","dateOfBirth",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","gender",4,"transloco"],["matInput","","formControlName","note",3,"placeholder","rows"],["formControlName","gender"],[3,"value"]],template:function(t,i){t&1&&D(0,Ds,6,10,"msk-dialog",5)(1,ks,13,9,"ng-template",null,0,_e)(3,Is,41,17,"ng-template",null,1,_e),t&2&&_("translocoRead","people.details")},dependencies:[N,It,Wt,$t,zt,jt,Gt,mn,Ut,at,qt,oe,re,ai,En,cn,on,sn,ln,Yt,Nt,ne,ce,Ie,gn,_n,rn,Ht,Qt,er,Jn,ui,$i,ze,fe,fn,oi,xr,In,Er],encapsulation:2,data:{animation:He},changeDetection:0})}}return n})();var na=(()=>{class n{constructor(){this._router=s(Rt),this._injector=s(be),this._matDialog=s(Jt),this._activatedRoute=s(Va)}ngOnInit(){let e=this._activatedRoute.snapshot.url[1].path;this._matDialog.open(Ir,{autoFocus:e!=="view",disableClose:e!=="view",data:{action:A(e),item:A(this._activatedRoute.snapshot.data.card)}}).afterClosed().subscribe(t=>{e==="new"&&t!="cancelled"&&this._injector.get(li).getPersons().subscribe(),this._router.navigate([this._activatedRoute.snapshot.url.map(()=>"../").join("")],{relativeTo:this._activatedRoute})})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["main-people-card"]],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return n})();var Ps=ca({"./i18n/en.json":()=>import("./chunk-Y7AGHPTT.js"),"./i18n/fa.json":()=>import("./chunk-BM72TITZ.js")});var Rs=(n,a)=>{let e=s(Te),t=s(Rt);return e.getPerson(n.paramMap.get("id")??0).pipe(De(i=>{console.error(i);let r=a.url.split("/").slice(0,-1).join("/");return t.navigateByUrl(r),ma(()=>new Error(i.message))}))},lh=[{path:"",pathMatch:"full",redirectTo:"list"},{path:"",component:Pn,providers:[Ja({scope:"people",loader:Dn((n,a)=>Ps(`./${a}/${n}.json`))})],children:[{path:"",component:li,resolve:{persons:()=>s(Te).getPersons()},children:[{path:"card/new",component:na,resolve:{}},{path:"card/view/:id",component:na,resolve:{card:Rs}}]}]}];export{Pn as a,Rn as b,rt as c,Tn as d,Te as e,Vn as f,Fn as g,oi as h,Jn as i,ui as j,$i as k,er as l,xr as m,aa as n,Er as o,Di as p,Mr as q,bi as r,lh as s};
