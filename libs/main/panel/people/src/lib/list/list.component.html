<div class="page-layout grid-scroll">
  <!-- Header -->
  <div class="header">
    <form class="flex items-center justify-end space-x-1 rtl:space-x-reverse" [formGroup]="filterForm"></form>
  </div>

  <!-- Main -->
  <div class="content">
    <!-- List -->
    <div class="content-grid" cdkScrollable>
      <div class="content-grid-list people-content-grid">
        <!-- Header -->
        <div class="content-grid-list-header" matSort matSortDisableClear>
          <ng-container *transloco="let t; read: 'people.column'">
            <a mat-sort-header="code">{{ t('code') }}</a>
            <a mat-sort-header="firstName">{{ t('name') }}</a>
            <a class="hidden sm:block" mat-sort-header="nationalCode">{{ t('nationalCode') }}</a>
            <a mat-sort-header="isActive">{{ t('status') }}</a>
          </ng-container>
        </div>
        <!-- Rows -->
        @for (person of persons$ | async; track person.id) {
        <div class="content-grid-list-row" [routerLink]="['card', 'view', person.id]" matRipple>
          <!-- Code -->
          <div class="truncate">
            {{ person.code }}
          </div>
          <!-- Name -->
          <div class="truncate">
            {{ person.firstName + ' ' + person.lastName }}
          </div>
          <!-- National code -->
          <div class="hidden truncate sm:block">
            {{ person.nationalCode }}
          </div>
          <!-- Status -->
          <div class="flex items-center justify-center">
            <main-person-status [value]="person.isActive"></main-person-status>
          </div>
        </div>
        } @empty {
        <div class="text-secondary p-8 text-center text-xl font-semibold tracking-tight sm:p-16" *transloco="let t">
          {{ t('people.empty-list') }}
        </div>
        }
      </div>
    </div>

    <!-- Fab -->
    <div class="content-fab-container">
      <button
        mat-fab
        extended
        [routerLink]="['card', 'new']"
        [ngClass]="{ 'mat-mdc-extended-fab-collapses': isFabCollapses }"
        @zoomIn
      >
        <mat-icon>add</mat-icon>
        <span *transloco="let t">{{ t('new') }}</span>
      </button>
    </div>

    <mat-paginator
      class="content-paginator"
      [length]="pagination.total"
      [pageIndex]="pagination.pageIndex"
      [pageSize]="pagination.pageSize"
      [pageSizeOptions]="pageSizeOptions"
      [showFirstLastButtons]="true"
      [disabled]="isLoading"
    ></mat-paginator>
  </div>
</div>

<!-- Invisible router-outlet for card component -->
<div class="pointer-events-none invisible absolute h-0 w-0 opacity-0">
  <router-outlet></router-outlet>
</div>
