<!-- Button -->
<button mat-icon-button [matMenuTriggerFor]="userActions">
  <span class="relative h-7 w-7">
    @if (showAvatar && user.avatar) {
    <img class="relative h-full w-full rounded-full" [src]="user.avatar" />
    } @else {
    <mat-icon svgIcon="heroicons_outline:user-circle"> </mat-icon>
    }
  </span>
</button>
<!-- Menu -->
<mat-menu [xPosition]="'before'" #userActions="matMenu" class="main-user-panel-profile">
  <div class="sticky mx-2 flex items-center justify-between">
    <div class="w-10"></div>
    <span>{{ user.username }}</span>
    <button mat-icon-button>
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="flex flex-col items-center justify-center overflow-auto px-6">
    <div class="relative mx-auto mt-4 h-20 w-20">
      <img class="relative h-full w-full rounded-full" [src]="user.avatar" alt="profile image" />
    </div>
    <div class="my-2">
      <span class="text-2xl">{{ user.name }}</span>
    </div>
    <div></div>
    <div class="mb-4 mt-6 flex w-full items-center justify-center transition" *transloco="let t">
      <div class="main-user-panel-profile-item" (click)="signOut()">
        <mat-icon class="mat-icon-rtl-mirror">logout</mat-icon>
        <span class="ms-3 font-medium">{{ t('layout.sign-out') }}</span>
      </div>
    </div>
  </div>
</mat-menu>
