<div class="page-layout content-scroll md:py-4">
  <!-- Main -->
  <div class="content prose max-w-full">
    <h3 class="sticky-header mt-4 md:mt-0">Component</h3>
    <textarea msk-highlight lang="typescript">
      import { MskLoadingBarComponent } from '@msk/shared/ui/loading-bar';
    </textarea>

    <p>
      <strong>msk-loading-bar</strong> is a small component to show the loading status at the top of the page. It can be
      configured to the <strong>Auto Mode</strong> to show/hide automatically on each HTTP request. It can also be
      toggled manually using its service.
    </p>
    <p><strong>Exported as: </strong><code>mskLoadingBar</code></p>

    <h3 class="sticky-header">Usage</h3>
    <p>
      Here's the basic usage of the <code>msk-loading-bar</code>. We already placed the component to the layout
      templates for you but you can always move it!
    </p>
    <textarea msk-highlight lang="html">
      &lt;msk-loading-bar&gt;&lt;/msk-loading-bar&gt;
    </textarea>

    <h3 class="sticky-header">Properties</h3>
    <div class="msk-mat-card-filled flex-shrink-0 overflow-auto p-4">
      <table class="m-0">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Default</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-md text-secondary">autoMode: <i>&lt;boolean&gt;</i></td>
            <td>Turn on or off the Auto Mode.</td>
            <td>
              <code>true</code>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <h3 class="sticky-header">Service</h3>
    <p><code>MskLoadingService</code> can be injected to control the loading bar from anywhere.</p>
    <div class="msk-mat-card-filled mt-4">
      <div class="text-secondary text-title-small border-b px-6 py-3">show(): void;</div>
      <div class="p-6">Shows the loading bar</div>
    </div>
    <div class="msk-mat-card-filled mt-4">
      <div class="text-secondary text-title-small border-b px-6 py-3">hide(): void;</div>
      <div class="p-6">Hides the loading bar</div>
    </div>
    <div class="msk-mat-card-filled mt-4">
      <div class="text-secondary text-title-small border-b px-6 py-3">setAutoMode(value: boolean): void;</div>
      <div class="p-6">
        Sets the Auto Mode. In Auto mode, loading bar will show when there is an HTTP request and it will hide when all
        HTTP requests are completed or failed.
      </div>
    </div>
    <div class="msk-mat-card-filled mt-4">
      <div class="text-secondary text-title-small border-b px-6 py-3">
        setMode(value: 'determinate' | 'indeterminate'): void;
      </div>
      <div class="p-6">Sets the mode of the underlying <code>MatProgressBar</code> component.</div>
    </div>
    <div class="msk-mat-card-filled mt-4">
      <div class="text-secondary text-title-small border-b px-6 py-3">setProgress(value: number): void;</div>
      <div class="p-6">
        Sets the progress manually. Only available on
        <code>determinate</code> mode.
      </div>
    </div>

    <h3 class="sticky-header">Examples</h3>
    <div class="example-viewer">
      <div class="header">
        <div class="title">Show / hide the loading bar manually</div>
        <div class="action"></div>
      </div>
      <mat-tab-group mat-stretch-tabs="false" [animationDuration]="'0ms'">
        <mat-tab label="Preview">
          <ng-template matTabContent>
            <div class="mx-auto flex space-x-4">
              <button mat-flat-button (click)="showLoadingBar()">Show loading bar</button>
              <button mat-flat-button (click)="hideLoadingBar()">Hide loading bar</button>
            </div>
          </ng-template>
        </mat-tab>
        <mat-tab label="HTML">
          <ng-template matTabContent>
            <textarea msk-highlight [lang]="'html'">
              <div class="mx-auto flex space-x-4">
                <button mat-flat-button (click)="showLoadingBar()">Show loading bar</button>
                <button mat-flat-button (click)="hideLoadingBar()">Hide loading bar</button>
              </div>
            </textarea>
          </ng-template>
        </mat-tab>
        <mat-tab label="Typescript">
          <ng-template matTabContent>
            <textarea msk-highlight [lang]="'typescript'">
              /**
                * Constructor
                */
              constructor(private _mskLoadingService: MskLoadingBarService) {}

              /**
                * Show the loading bar
                */
              showLoadingBar(): void {
                this._mskLoadingService.show();
              }

              /**
                * Hide the loading bar
                */
              hideLoadingBar(): void {
                this._mskLoadingService.hide();
              }
            </textarea>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </div>

    <div class="mb-6"></div>
  </div>
</div>
